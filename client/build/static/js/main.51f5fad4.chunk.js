(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,a,t){e.exports=t(272)},159:function(e,a,t){},161:function(e,a,t){},270:function(e,a,t){},271:function(e,a,t){},272:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(23),c=t.n(r),o=t(8),s=t.n(o),i=t(13),m=t(12),u=t.n(m),d=t(58),E=t.n(d),p=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var l=E.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:l}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:l})}),t)}},f=function(e){e?u.a.defaults.headers.common["x-auth-token"]=e:delete u.a.defaults.headers.common["x-auth-token"]},b=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&f(localStorage.token),e.prev=1,a({type:"USER_LOAD_REQUEST"}),e.next=5,u.a.get("/api/auth");case 5:t=e.sent,a({type:"USER_LOAD_SUCCESS",payload:t.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),a(p("".concat(e.t0.response.data.msg," "),"danger")),a({type:"USER_LOAD_FAIL"});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()},v=t(1),g=t.n(v),h=t(6),N=(t(159),function(e){var a=e.user,t=(e.isAuthLoading,e.logout);return l.a.createElement(n.Fragment,null,l.a.createElement("nav",{id:"sidebar",className:"sidebar-wrapper"},l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"sidebar-content"},l.a.createElement("div",{className:"sidebar-brand"},l.a.createElement("a",{href:"#"},"Almonte Prestamo"),l.a.createElement("div",{id:"close-sidebar"},l.a.createElement("i",{className:"fa fa-times"}))),null!==a&&a&&l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("div",{className:"user-pic"},l.a.createElement("img",{className:"img-responsive img-rounded",src:"https://raw.githubusercontent.com/azouaoui-med/pro-sidebar-template/gh-pages/src/img/user.jpg",alt:"User picture"})),l.a.createElement("div",{className:"user-info"},l.a.createElement("span",{className:"user-name"},l.a.createElement("strong",null,a.name)),l.a.createElement("span",{className:"user-role"},a.nombreUsuarios),l.a.createElement("span",{className:"user-status"},l.a.createElement("i",{className:"fa fa-circle"}),l.a.createElement("span",null,"Online")))),l.a.createElement("div",{className:"sidebar-menu"},l.a.createElement("ul",null,l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"General")),l.a.createElement("li",null,l.a.createElement("a",{href:"/"},l.a.createElement("i",{className:"fa fa-tachometer-alt"}),l.a.createElement("span",null,"Dashboard"))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Clientes")),l.a.createElement("li",null,l.a.createElement("a",{href:"/clients"},l.a.createElement("i",{className:"fa fa-users"}),l.a.createElement("span",null," Ver todo los clients"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/newclient"},l.a.createElement("i",{className:"fa fa-user"}),l.a.createElement("span",null," Crear nuevo cliente"))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Deudas")),l.a.createElement("li",null,l.a.createElement("a",{href:"/loan"},l.a.createElement("i",{className:"fa fa-money-o"}),l.a.createElement("span",null," Ver todo los Prestamos"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/lateLoan"},l.a.createElement("i",{className:"fa fa-clock-o"}),l.a.createElement("span",null," Deudas atrasados "))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Planes")),l.a.createElement("li",null,l.a.createElement("a",{href:"/plan"},l.a.createElement("i",{className:"fa fa-paper-plane"}),l.a.createElement("span",null," Ver todo los planes"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/newplan"},l.a.createElement("i",{className:"fa fa-road"}),l.a.createElement("span",null," Crear nuevo plan "))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Usuarios")),l.a.createElement("li",null,l.a.createElement("a",{href:"/users"},l.a.createElement("i",{className:"fa fa-user-secret"}),l.a.createElement("span",null," Ver todo los usuarios"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/newuser"},l.a.createElement("i",{className:"fa fa-user-plus"}),l.a.createElement("span",null," Crear nuevo usuario "))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Ciudades")),l.a.createElement("li",null,l.a.createElement("a",{href:"/city"},l.a.createElement("i",{className:"fa fa-building-o"}),l.a.createElement("span",null," Ver todo las ciudades"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/newcity"},l.a.createElement("i",{className:"fa fa-building-o"}),l.a.createElement("span",null," Agregar nueva ciudad "))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Gastos")),l.a.createElement("li",null,l.a.createElement("a",{href:"/expense"},l.a.createElement("i",{className:"fa fa-building-o"}),l.a.createElement("span",null," Ver todo los gastos"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/newexpense"},l.a.createElement("i",{className:"fa fa-building-o"}),l.a.createElement("span",null," Agregar nuevo gasto "))),l.a.createElement("li",{className:"header-menu"},l.a.createElement("span",null,"Extra")),l.a.createElement("li",null,l.a.createElement("a",{href:"/instruction"},l.a.createElement("i",{className:"fa fa-book"}),l.a.createElement("span",null,"Documentacion"))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("i",{className:"fa fa-folder"}),l.a.createElement("span",null,"Ejemplos")))))),l.a.createElement("div",{className:"sidebar-footer"},l.a.createElement("a",{href:"#"},l.a.createElement("i",{onClick:t,className:"fa fa-power-off"}))))))});N.prototype={isAuthLoading:g.a.bool.isRequired,logout:g.a.func.isRequired,user:g.a.object.isRequired};var y=Object(h.b)((function(e){return{user:e.auth.user}}),{logout:function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"LOG_OUT"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}})(N),C=Object(h.b)((function(e){return{alerts:e.alert}}))((function(e){var a=e.alerts;return document.querySelector("body").scrollTop=0,document.documentElement.scrollTop=0,null!==a&&a.length>0&&a.map((function(e){return l.a.createElement("div",{className:"container-fluid",key:e.id},l.a.createElement("div",{className:"alert alert-".concat(e.alertType)},e.msg))}))})),S=function(e){return l.a.createElement("div",null,l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"page-wrapper chiller-theme"},l.a.createElement("a",{id:"show-sidebar",className:"btn btn-sm btn-dark",href:"#"},l.a.createElement("i",{className:"fa fa-bars"})),l.a.createElement(y,null),l.a.createElement("main",{className:"page-content"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(C,null),e.children)))))},O=t(11),x=t(129),L=function(e){var a=e.component,t=e.auth,n=t.isAuthenticated,r=t.loading,c=Object(x.a)(e,["component","auth"]);return l.a.createElement(O.b,Object.assign({},c,{render:function(e){return n||r?l.a.createElement(a,e):l.a.createElement(O.a,{to:"/login"})}}))};L.prototype={auth:g.a.object.isRequired};var _=Object(h.b)((function(e){return{auth:e.auth}}))(L),j=t(3),w=t(7),T=Object(h.b)((function(e){return{cityLoading:e.city.loading,cities:e.city.cities,profileLoading:e.profile.isLoading,profiles:e.profile.profiles,paymentLoading:e.payment.loading,payments:e.payment.payments,loanLoading:e.loan.loading,loans:e.loan.loans}}),{})((function(e){var a=e.payments,t=e.loans,n=e.profiles,r=e.cities,c=e.loanLoading,o=e.profileLoading,s=e.paymentLoading,i=e.cityLoading,m=[{icon:"fa-road",title:" Cantidad de ciuades",amount:r.length},{icon:"fa-money",title:" Cantidad de prestamos hecho",amount:t.length},{icon:"fa-pied-piper-pp",title:"Cantidad de Pagos recibidos",amount:a.length},{icon:"fa-users",title:" Cantidad total de clientes",amount:n.length}];return l.a.createElement("div",null,l.a.createElement("div",{className:"row justify-content-center"},c||i||o||s?l.a.createElement("div",{className:"spinner-border text-primary"},l.a.createElement("span",{className:"sr-only"},"Loading...")):m.map((function(e){return l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 ",key:e.title},l.a.createElement("div",{className:" card card-chart mb-4 "},l.a.createElement("div",{className:"card-body d-flex justify-content-between text-white"},l.a.createElement("div",{className:"mb-2"},l.a.createElement("i",{className:"h4 fa ".concat(e.icon," fa-2x")})),l.a.createElement("h4",{className:"card-text text-black"},e.amount)),l.a.createElement("div",{className:"card-footer text-white text-left p-2"},l.a.createElement("span",{className:"h6 card-title"},e.title))))}))))})),R=[null,"Enero","Febrero","Marzo","Abril","Mayo","Junio","Jullio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],A=function(e){var a=function(e,a){return 2==e?function(e){return e%4==0&&(e%100==0&&e%400==0)}(a)?29:28:[1,3,5,7,8,10,12].join().includes(e)?31:30};return R.map((function(t,n){if(null!=t)return{name:t,number:n,days:a(n+1,e)}}))};console.log(A(2004));var P=t(28),F=t.n(P),D=function(e){var a=e.name,t=e.handleSelect,n=e.number,r=e.selected;return l.a.createElement("div",{onClick:function(){t(n)},className:" Month text-center text-".concat(r==n?"success":"white","  mr-5 h4")},l.a.createElement("div",{className:" p-2 bg-".concat(r==n&&"white","  ")},a))},k=t(14),I=function(e){var a=e.handleSelect,t=e.number,n=e.selected;return l.a.createElement("div",Object(k.a)({className:"Day",onClick:function(){a(t)}},"className","  nav-item mr-5 h4"),l.a.createElement("div",{className:"Day-container bg-".concat(n==t?"success text-white":"white text-dark")},t))},U=t(281),q=t(282),H=t(276),M=t(277),Q=t(114),V=function(e){var a=e.loans,t=e.payments,n=e.expenses,r=e.date,c=t.filter((function(e){return void 0!=e.amountPaid&&null!=e.amountPaid&&e.amountPaid&&e.dateAmountPaid&&F()(r).isSame(e.dateAmountPaid)})),o=t.filter((function(e){return void 0!=e.interestPaid&&null!=e.interestPaid&&e.interestPaid&&e.dateInterestPaid&&F()(r).isSame(e.dateInterestPaid)})),s=n.filter((function(e){return void 0!=e.amount&&null!=e.amount&&e.amount&&e.date&&F()(r).isSame(e.date)})),i=c.reduce((function(e,a){return e+a.amountPaid}),0),m=o.reduce((function(e,a){return a.interestPaid>0?e+a.interestPaid:e+-1*a.interestPaid}),0),u=s.reduce((function(e,a){return e+a.amount}),0);return l.a.createElement("div",{className:"text-white"},l.a.createElement("h4",null,"Datos para el dia ",l.a.createElement("small",null," ",r)," "),l.a.createElement(U.a,{className:"text-dark"},l.a.createElement(q.a,null,l.a.createElement(U.a.Toggle,{as:q.a.Header,eventKey:"0"},"Total Pagos hechos",i),l.a.createElement(U.a.Collapse,{eventKey:"0"},l.a.createElement(q.a.Body,null,l.a.createElement("h5",{className:"text-muted"}," Los Pagos"),l.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"# Pago"),l.a.createElement("td",null,"Deudor"),l.a.createElement("td",null,"Deuda"),l.a.createElement("td",null,"Pago"))),l.a.createElement("tbody",null,c.map((function(e){var t=a.filter((function(a){return a._id==e.loan}))[0];return l.a.createElement("tr",null,l.a.createElement("td",null,e.quota),l.a.createElement("td",null,t.client.name),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,e.amountPaid,".00 S$RDS"))}))))))),l.a.createElement(q.a,null,l.a.createElement(U.a.Toggle,{as:q.a.Header,eventKey:"1"},"Total Gastos hechos:",u),l.a.createElement(U.a.Collapse,{eventKey:"1"},l.a.createElement(q.a.Body,null,l.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Cantidad"),l.a.createElement("td",null,"Descripcion"))),l.a.createElement("tbody",null,s.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.amount,".00 $RDS"),l.a.createElement("td",null,e.description))}))))))),l.a.createElement(q.a,null,l.a.createElement(U.a.Toggle,{as:q.a.Header,eventKey:"2"},"Total Reditos:",m),l.a.createElement(U.a.Collapse,{eventKey:"2"},l.a.createElement(q.a.Body,null,l.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"# Pago"),l.a.createElement("td",null,"Deudor"),l.a.createElement("td",null,"Deuda"),l.a.createElement("td",null,"Pago"))),l.a.createElement("tbody",null,o.map((function(e){var t=a.filter((function(a){return a._id==e.loan}))[0];return l.a.createElement("tr",null,l.a.createElement("td",null,e.quota),l.a.createElement("td",null,t.client.name),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,parseFloat(e.interestPaid)<0?-1*parseFloat(e.interestPaid):parseFloat(e.interestPaid),".00 S$RDS"))}))))))),l.a.createElement(q.a,null,l.a.createElement(q.a.Header,null,l.a.createElement(M.a,null,l.a.createElement(Q.a,null,"Total Pagos Y Reditos: "),l.a.createElement(Q.a,null,i+m," $RDS")),l.a.createElement(M.a,null,l.a.createElement(Q.a,null,"Restante (pagos+ reditos- gastos): "),l.a.createElement(Q.a,null,i+m-u,"$RDS"))))))},Y=function(e){var a=e.payments,t=e.loans,r=e.expenses,c=Object(n.useState)(F()().year()),o=Object(w.a)(c,2),s=o[0],i=o[1],m=A(s);m.shift();for(var u=Object(n.useState)(F()().month()+1),d=Object(w.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)(parseInt(m[F()().month()+1].days)),b=Object(w.a)(f,2),v=b[0],g=b[1],h=Object(n.useState)(parseInt(F()().date())),N=Object(w.a)(h,2),y=N[0],C=N[1],S=function(e){p(e),g(parseInt(m[e].days))},O=function(e){C(e)},x=[],L=1;L<v+1;L++)x.push(l.a.createElement("div",{key:L,className:"col-sm-2"},l.a.createElement(I,{number:L,selected:y,handleSelect:O})));return l.a.createElement("div",{className:" container p-5"},l.a.createElement("div",{className:"row bg-secondary p-5",style:{overflowX:"scroll"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"ml-auto"},l.a.createElement("input",{type:"text",value:s,onChange:function(e){var a=e.target.value;i(a)}}))),l.a.createElement("div",{className:"row"},m.map((function(e){return l.a.createElement("div",{className:"col-sm-4"},l.a.createElement(D,Object.assign({},e,{selected:E,handleSelect:S})))})))),l.a.createElement("div",{className:"row p-5 mt-0",style:{backgroundColor:"#F8F8F8"}},x),l.a.createElement("div",null,l.a.createElement(V,{date:"".concat(E,"/").concat(y,"/").concat(s),loans:t,payments:a,expenses:r})))},G=(t(161),function(e){var a=e.message,t=void 0===a?"":a;return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container "},l.a.createElement("div",{className:"loader p-5"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("h4",{className:"text-white text-muted"},t))}),B=t(115),$=t(127),z=t(18),X=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Jullio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],J={maintainAspectRatio:!0,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:12,yPadding:10,caretPadding:10},responsive:!0,scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]},layout:{padding:{left:0,right:0,top:15,bottom:15}}},W={fill:!0,backgroundColor:"transparent",borderColor:"#d346b1",borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:"#d346b1",pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:"#d346b1",pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4},K=function(e){return e.reduce((function(e,a){return e.includes(new Date(a.date).getMonth())?e:[].concat(Object(z.a)(e),[new Date(a.date).getMonth()])}),[])},Z=function(e){for(var a=[],t=0;t<e.length;t++){var n=e[t],l=void 0;n.dateInterestPaid&&null!=n.dateInterestPaid&&(l=new Date(n.dateInterestPaid).getMonth()),l&&null!=l&&(a.includes(l)||a.push(l)),n.dateAmountPaid&&null!=n.dateAmountPaid&&(l=new Date(n.dateAmountPaid).getMonth()),l&&null!=l&&(a.includes(l)||a.push(l))}return a},ee=function(e,a){var t=X,n=[];return a.forEach((function(a){var l=e.reduce((function(e,t){return new Date(t.date).getMonth()!==a?e:[].concat(Object(z.a)(e),[t])}),[]);n.push({position:a,name:t[a],total:l.reduce((function(e,a){return e+a.amount}),0)})})),n},ae=function(e,a){var t=X,n=[];return a.forEach((function(a){var l=[];e.forEach((function(e){new Date(e.dateInterestPaid).getMonth()===a&&(ne(e,l)||l.push(e)),new Date(e.dateAmountPaid).getMonth()===a&&(ne(e,l)||l.push(e))})),n.push({position:a,name:t[a],total:l.reduce((function(e,a){return e+te(a)}),0)})})),n},te=function(e){var a=0,t=0;return e.amountPaid&&null!=e.amountPaid&&(a=e.amountPaid),e.interestPaid&&null!=e.interestPaid&&(t=e.interestPaid),a+t},ne=function(e,a){for(var t=0;t<a.length;t++)if(a[t]._id==e._id)return!0;return console.log(" Receied ".concat(a.length)),!1},le=function(e){var a=[0,0,0,0,0,0,0,0,0,0,0,0];return e.forEach((function(e){a[e.position]=e.total})),a},re=function(e,a,t){var n=function(e,a,t){e=e.filter((function(e){return new Date(e.date).getFullYear()==(new Date).getFullYear()}));var n=ee(e,K(e));t=t.filter((function(e){return new Date(e.date).getFullYear()==(new Date).getFullYear()}));var l=ee(t,K(t));a=a.filter((function(e){return"unpaid"!==e.status}));var r=ae(a,Z(a));!function(e,a,t){for(var n=[],l=0;l<e.length;l++){var r=0;a[l]&&(r+=a[l]),e[l]&&(r-=e[l]),t[l]&&(r-=t[l]),n.push(r)}}(e,a,t);return[le(n),le(l),le(r),[0,0,0,0,0,0,0,0,0,0,0,0]]}(e,a,t),l=function(e,a,t){e=e.filter((function(e){return new Date(e.date).getFullYear()==(new Date).getFullYear()}));var n=ee(e,K(e));t=t.filter((function(e){return new Date(e.date).getFullYear()==(new Date).getFullYear()}));var l=ee(t,K(t));return a=a.filter((function(e){return"unpaid"!=e.status})),[n,l,ae(a,Z(a))]}(e,a,t);return[[n[2],n[0],n[1],n[3]],[l[0],l[2],l[1],n[3]]]},ce=[[100,600],[689,230],[78,480],[145,480]],oe=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"EXPENSES_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/expense");case 4:t=e.sent,a({type:"EXPENSES_FETCH_SUCCESS",payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"EXPENSES_FETCH_FAIL"}),a(p("Error ".concat(e.t0.response.data.msg),"danger"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},se=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"SELECTED_PAYMENTS_REQUEST"}),a.prev=1,a.next=4,u.a.get("/api/payment/loan/".concat(e));case 4:n=a.sent,t({type:"SELECTED_PAYMENTS_SUCCESS",payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"SELECTED_PAYMENTS_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},ie=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"PAYMENT_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/payment");case 4:t=e.sent,a({type:"PAYMENT_FETCH_SUCCESS",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"PAYMENT_FETCH_FAIL"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},me=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"GET_SELECTED_LOANS_REQUEST"}),a.prev=1,a.next=4,u.a.get("/api/loan/client/".concat(e));case 4:n=a.sent,t({type:"GET_SELECTED_LOANS_SUCCESS",payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"GET_SELECTED_LOANS_FAIL"}),t(p("Error ".concat(a.t0),"danger"));case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},ue=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),t({type:"ADD_PAY_REQUEST"}),a.prev=3,a.next=6,u.a.post("/api/loan/due/".concat(e.id),l,n);case 6:a.sent,t(ie()),t(p("Pago agregado con exito","success")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),t({type:"ADD_PAY_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()},de=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"GET_LOAN_REQUEST"}),a.prev=1,a.next=4,u.a.get("/api/loan/".concat(e));case 4:n=a.sent,t({type:"GET_LOAN_SUCCESS",payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"GET_LOAN_FAIL"}),t(p("Error ".concat(a.t0),"danger"));case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOAN_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/loan");case 4:t=e.sent,a({type:"LOAN_FETCH_SUCCESS",payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"LOAN_FETCH_FAIL"}),a(p("Error ".concat(e.t0.response.data.msg),"danger"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},pe=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),a.prev=2,t({type:"LOAN_ADD_REQUEST"}),a.next=6,u.a.post("/api/loan",l,n);case 6:a.sent,t({type:"LOAN_ADD_SUCCESS"}),t(Ee()),t(p(" Prestamo creado con exito","success")),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),t({type:"LOAN_ADD_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 16:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()},fe=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},a.prev=1,t({type:"LOAN_CANCEL_REQUEST"}),a.next=5,u.a.post("/api/loan/cancel/"+e,null,n);case 5:a.sent,t({type:"LOAN_CANCEL_SUCCESS"}),t(Ee()),t(p(" Prestamo cancelado con exito","success")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),t({type:"LOAN_CANCEL_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},be=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),a.prev=2,t({type:"LOAN_RENEW_REQUEST"}),a.next=6,u.a.post("/api/loan/renew/"+e.id,l,n);case 6:a.sent,t({type:"LOAN_RENEW_SUCCESS"}),t(Ee()),t(p(" Prestamo Renovado con exito","success")),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),t({type:"LOAN_RENEW_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 16:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()},ve=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"LOAD_SELECTED_PROFILE_REQUEST"}),a.prev=1,a.next=4,u.a.get("/api/client/".concat(e));case 4:n=a.sent,t({type:"LOAD_SELECTED_PROFILE_SUCCESS",payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"LOAD_SELECTED_PROFILE_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},ge=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"PROFILE_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/client");case 4:t=e.sent,a({type:"PROFILE_FETCH_SUCCESS",payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"PROFILE_FETCH_FAIL"}),a(p("Error ".concat(e.t0.response.data.msg),"danger",400));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},he=function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),t({type:"PROFILE_UPADTE_REQUEST"}),a.prev=3,a.next=6,u.a.put("/api/client",l,n);case 6:r=a.sent,console.log(r),t({type:"PROFILE_UPADTE_SUCCESS",payload:r.data}),t(p("".concat(e.name," actualizado con exito"),"success")),t(ge()),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(3),t({type:"PROFILE_UPADTE_FAIL"}),t(p(" Error  ".concat(a.t0.response.data.msg),"danger"));case 17:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(e){return a.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"CITY_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/city/stats/client");case 4:t=e.sent,a({type:"CITY_FETCH_SUCCESS",payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"CITY_FETCH_FAIL"}),a(p("Error ".concat(e.t0.response.data.msg),"danger"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},ye=Object(h.b)((function(e){return{loans:e.loan.loans,payments:e.payment.payments,expenses:e.expense.expenses,loanLoading:e.loan.loading,paymentLoading:e.payment.loading,expenseLoading:e.expense.loading}}),{loadCities:Ne,loadProfiles:ge,loadExpenses:oe,loadLoans:Ee,loadPayment:ie})((function(e){var a=e.loadCities,t=e.loadProfiles,r=e.loadExpenses,c=e.loadPayment,o=e.loadLoans,s=e.expenseLoading,i=e.paymentLoading,m=e.loanLoading,u=e.loans,d=e.payments,E=e.expenses;Object(n.useEffect)((function(){r(),c(),o(),t(),a()}),[]);var p=re(u,d,E)[0],f=Object(n.useState)({selectedOption:"1"}),b=Object(w.a)(f,2),v=b[0],g=b[1],h=v.selectedOption,N=function(e){g(Object(j.a)({},v,{selectedOption:e.target.value}))},y={labels:X,datasets:[Object(j.a)({},W,{label:"".concat("0"==h?"Pagos Cobrada":"1"==h?" Prestamo Pagado":"2"==h?"Total Gastos":"Total Beneficios"," } "),data:p[parseInt(h)]})]};Object(j.a)({},W,{label:"".concat("0"==h?"Pagos Cobrada":"1"==h?" Prestamo Pagado":"2"==h?"Total Gastos":"Total Beneficios"," } "),data:ce[parseInt(h)]});return l.a.createElement("div",null,s||i||m?l.a.createElement(G,null):l.a.createElement("div",null,l.a.createElement("div",{className:"mt-5"},l.a.createElement(T,null)),l.a.createElement("div",{className:"row my-4"},l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("div",{className:"card card-chart"},l.a.createElement("div",{className:"card- pl-4 pt-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 text-white"},l.a.createElement("div",{className:"text-muted mb-2"},"".concat("0"==h?"Pagos Cobrada":"1"==h?" Prestamo Pagado":"Gastos"," por meses del ").concat((new Date).getFullYear())),l.a.createElement("div",{className:"h4"},"RD$",p[parseInt(h)].reduce((function(e,a){return e+a}),0))),l.a.createElement("div",{className:"col-sm-6 "},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 d-flex justify-content-end pr-4 "},l.a.createElement("form",{className:"btn-group "},l.a.createElement("label",{className:"".concat("0"==h&&"active"," btn btn-sm btn-ouline-purple ")},l.a.createElement("input",{value:"0",checked:"0"==h,onChange:N,type:"radio",className:"d-none "}),l.a.createElement("span",{className:"d-none d-md-block"},"Pagos"),l.a.createElement("span",{className:"d-sm-block d-md-none"},l.a.createElement("i",{className:"fa fa-pied-piper-pp"}))),l.a.createElement("label",{className:"".concat("1"==h&&"active"," btn btn-sm  btn-ouline-purple ")},l.a.createElement("input",{value:"1",checked:"1"==h,onChange:N,type:"radio",className:"d-none"}),l.a.createElement("span",{className:"d-none d-md-block"},"Prestamo"),l.a.createElement("span",{className:"d-sm-block d-md-none"},l.a.createElement("i",{className:"fa fa-pinterest"}))),l.a.createElement("label",{className:"".concat("2"==h&&"active"," btn btn-sm btn-ouline-purple ")},l.a.createElement("input",{value:"2",checked:"2"==h,onChange:N,type:"radio",className:"d-none"}),l.a.createElement("span",{className:"d-none d-md-block"},"Gastos"),l.a.createElement("span",{className:"d-sm-block d-md-none"},l.a.createElement("i",{className:"fa fa-sort-amount-desc"}))))))))),l.a.createElement($.c,{className:"py-2"},l.a.createElement(B.a,{data:y,options:J})))),l.a.createElement(Y,{loans:u,payments:d,expenses:E}))))}));var Ce=Object(h.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.auth,t=a.isAuthenticated,r=a.loading;return l.a.createElement("div",null,r?l.a.createElement(G,null):l.a.createElement(n.Fragment,null,t?l.a.createElement(O.a,{to:"/home"}):l.a.createElement(O.a,{to:"/login"})))})),Se=t(9),Oe=t(283),xe=t(279),Le=t(278),_e=t(280);var je=Object(h.b)((function(e){return{selectedLoans:e.loan.selectedLoans.length,loanLoading:e.loan.loading,profileLoading:e.profile.isLoading}}),{loadClientLoan:me,deleteClient:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("in delete"),n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),t({type:"DELETE_PROFILE_REQUEST"}),a.prev=4,console.log(" trying to delete"),a.next=8,u.a.delete("/api/client/".concat(e.id),l,n);case 8:r=a.sent,console.log(r.data),t({type:"DELETED_PROFILE_SUCCESS",payload:r.data}),a.next=18;break;case 13:a.prev=13,a.t0=a.catch(4),console.log("we failed to delete "+e.id),t({type:"DELETED_PROFILE_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 18:case"end":return a.stop()}}),a,null,[[4,13]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var a=e.deleteClient,t=e.onHide,r=e.show,c=e.client,o=e.loadClientLoan,s=e.selectedLoans,i=e.loanLoading,m=e.redirect,u=void 0===m?"":m,d=function(){return s>0},E=Object(n.useState)(""),p=Object(w.a)(E,2),f=p[0],b=p[1],v=Object(n.useState)({id:c._id,ensureDelete:!d(),fireRedirect:!1}),g=Object(w.a)(v,2),h=g[0],N=g[1];Object(n.useEffect)((function(){r&&(o(c._id),N(Object(j.a)({},h,{id:c._id})))}),[r]);var y=h.ensureDelete;return l.a.createElement(xe.a,{show:r,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(xe.a.Header,null,l.a.createElement(xe.a.Title,{id:"contained-modal-title-vcenter"},"Borror un cliente")),l.a.createElement(xe.a.Body,null,i?l.a.createElement(Le.a,{animation:"grow"}):l.a.createElement(n.Fragment,null,l.a.createElement("p",null,"Borraras a"," ",l.a.createElement("b",null,c.name," ",c.apellido,".")," ","Por seguridad escriba"," ",l.a.createElement("b",{className:"text-danger"},c.cedula)," en la caja abajo y presiona al botton"),l.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),a(h),""!==u?N(Object(j.a)({},h,{fireRedirect:!0})):window.location.reload(),t()}},l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Row,null,d()&&l.a.createElement(n.Fragment,null,l.a.createElement(_e.a.Check,{checked:y,type:"checkbox",label:"Forzar borar",onChange:function(){N(Object(j.a)({},h,{ensureDelete:!y}))}}),l.a.createElement("p",{className:"text-danger"},"Este cliente tiene prestamos esta option borrara sus prestamos y pagos"))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Control,{type:"text",value:f,onChange:function(e){b(e.target.value.trim())}})),l.a.createElement(Q.a,null,l.a.createElement(Oe.a,{disabled:f!==c.cedula||!y,variant:"danger",type:"submit"},l.a.createElement("i",{className:"fa fa-trash"})))),""!==f&&l.a.createElement(_e.a.Text,{className:"text-muted text-danger"},"Nota que este accion es irreversible"))),l.a.createElement("p",{className:"text-warning"}))),l.a.createElement(xe.a.Footer,null,l.a.createElement(Oe.a,{onClick:t},"Cerrar")),h.fireRedirect&&l.a.createElement(O.a,{to:u}))})),we=function(e){var a=e.profiles,t=e.setSelectedClient,n=e.setModalShow;return l.a.createElement(M.a,null,a.map((function(e){return l.a.createElement(Q.a,{sm:6,md:4,lg:3},l.a.createElement("li",{key:e._id,className:"my-item list-group-item mb-2 p-0"},l.a.createElement("div",{className:" bg-light  rounded p-4"},l.a.createElement("h5",{className:"text-dark"},"".concat(e.name," ").concat(e.apellido)),l.a.createElement("div",{className:"mb-1"},l.a.createElement("span",{className:"text-muted mr-4"},"Cedula"),l.a.createElement("span",{className:"text-muted mr-4 "},11==e.cedula.split().length?l.a.createElement(Se.a,{value:e.cedula,displayType:"text",format:"###-#######-#"}):e.cedula)),l.a.createElement("div",{className:"mb-1"},l.a.createElement("span",{className:" text-muted mr-4"}," Telefono"),l.a.createElement("span",{className:"text-muted mr-4  "},l.a.createElement(Se.a,{value:e.telefono,displayType:"text",format:"(###) ###-####"}))),e.telefono2&&l.a.createElement("div",{className:"mb-1"},l.a.createElement("span",{className:"text-muted mr-4"},"Telefono 2:"),l.a.createElement("span",{className:"text-muted "},l.a.createElement(Se.a,{value:e.telefono2,displayType:"text",format:"(###) ###-####"}))),e.telefono3&&l.a.createElement("div",{className:"mb-1"},l.a.createElement("span",{className:"text-muted mr-4"},"Telefono 3"),l.a.createElement("span",{className:"text-muted "},l.a.createElement(Se.a,{value:e.telefono3,displayType:"text",format:"(###) ###-####"}))),l.a.createElement("div",{className:"mb-1"},l.a.createElement("span",{className:"text-muted "},"".concat(e.dirreccion," "))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("span",{className:"text-muted "},"".concat(e.ciudad.charAt(0).toUpperCase()+e.ciudad.slice(1)," "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6 mb-2"},l.a.createElement("a",{href:"/client/".concat(e._id),className:"btn btn-outline-info btn-block"},l.a.createElement("span",{className:"d-none d-sm-block"},"Detalle "),l.a.createElement("span",{className:"d-sm-none"},l.a.createElement("i",{className:"fa fa-info-circle"})))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("a",{href:"newloan/".concat(e._id),className:"btn btn-outline-info btn-block "},l.a.createElement("span",{className:"d-none d-sm-block"},"Nuevo Prestamo "),l.a.createElement("span",{className:"d-sm-none"},l.a.createElement("i",{className:"fa fa-plus"})))),l.a.createElement("div",{className:"col-sm-12 mt-2"},l.a.createElement(Oe.a,{variant:"outline-danger",block:!0,size:"sm",onClick:function(){t(e),n(!0)}},l.a.createElement("span",{className:"d-none d-sm-block"},"Borrar"),l.a.createElement("span",{className:"d-sm-none"},l.a.createElement("i",{className:"fa fa-trash"}))))))))})))},Te=Object(h.b)((function(e){return{porfileLoading:e.profile.isLoading,profilesFiltered:e.profile.filteredProfiles,profiles:e.profile.profiles}}),{filterProfiles:function(e,a){return function(){var t=Object(i.a)(s.a.mark((function t(n){var l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=a.filter((function(a){return!a.name.trim().toLowerCase().indexOf(e.trim().toLowerCase())})),console.log("Amen ".concat(a[0]," and the filter is ").concat(l)),n({type:"FILTER",payload:l});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadProfiles:ge})((function(e){var a=e.loadProfiles,t=e.profiles,r=e.profilesFiltered,c=e.filterProfiles,o=e.porfileLoading;Object(n.useEffect)((function(){a()}),[]);var s=Object(n.useState)({}),i=Object(w.a)(s,2),m=i[0],u=i[1],d=l.a.useState(!1),E=Object(w.a)(d,2),p=E[0],f=E[1];return l.a.createElement("div",{className:"container-fluid text-white"},l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-12 d-flex justify-content-between"},l.a.createElement("h6",{className:"text-bold text-white"},"Lista de cliente"),l.a.createElement("span",null,l.a.createElement(Oe.a,{href:"/newclient",variant:"secondary",type:"submit",size:"sm",className:"mx-3"},l.a.createElement("i",{className:"fa fa-plus-circle mx-2 text-success"}),"Agregar nuevo cliente")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 "},"Filtrar por nombre"),l.a.createElement("div",{className:"col-md-6 col-sm-12 "},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{onChange:function(e){c(e.target.value,t)},type:"text",className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"fa fa-user"})))))),l.a.createElement("div",null,o?l.a.createElement(G,{message:" Cargando los clientes"}):l.a.createElement(n.Fragment,null,l.a.createElement("div",null,t&&null!==t&&t.length>0?l.a.createElement(we,{profiles:r,setModalShow:f,setSelectedClient:u}):l.a.createElement("h1",{className:"text-white"}," Aun no has agregado clientes")),l.a.createElement(je,{show:p,onHide:function(){return f(!1)},client:m}))))}));var Re=Object(h.b)((function(e){return{loanLoading:e.loan.loading,PaymentLoading:e.payment.loading,selectedPayment:e.payment.selectedPayment.length}}),{getPaymentsById:se,removeLoan:fe})((function(e){var a=e.PaymentLoading,t=e.removeLoan,r=e.onHide,c=e.show,o=e.getPaymentsById,s=e.loan,i=e.selectedPayment,m=e.redirect,u=void 0===m?"":m,d=Object(n.useState)(""),E=Object(w.a)(d,2),p=E[0],f=E[1],b=Object(n.useState)({id:"",fireRedirect:!1}),v=Object(w.a)(b,2),g=v[0],h=v[1];return Object(n.useEffect)((function(){console.log(c),c&&o(s._id)}),[c]),l.a.createElement(xe.a,{show:c,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(xe.a.Header,null,l.a.createElement(xe.a.Title,{id:"contained-modal-title-vcenter"},"Borrar un prestamo")),l.a.createElement(xe.a.Body,null,a?l.a.createElement(Le.a,{animation:"grow"}):l.a.createElement(n.Fragment,null,l.a.createElement("p",null,"Intentas borrar a un prestamo de"," ",l.a.createElement("b",null,s.client.name+""+s.client.apellido)," confima esta accion escribiendo ",l.a.createElement("b",{className:"text-danger"},s._id," "),"abajo y presiona al boton"),l.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),t(s._id),""!==u?h(Object(j.a)({},g,{fireRedirect:!0})):window.location.reload(),r()}},l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Row,null,i>0&&l.a.createElement(n.Fragment,null,l.a.createElement("p",{className:"text-danger"},"Nota que ya hay pagos realizado por este Prestamo. Al cancelarla tambien sera considerado Pagado"," ",l.a.createElement("a",{href:"/loan/".concat(s._id)},"Mas detalles")))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Control,{type:"text",value:p,onChange:function(e){f(e.target.value.trim())}})),l.a.createElement(Q.a,null,l.a.createElement(Oe.a,{disabled:!(p===s._id),variant:"danger",type:"submit"},l.a.createElement("i",{className:"fa fa-trash"})))),""!==p&&l.a.createElement(_e.a.Text,{className:"text-muted text-danger"},"Nota que este accion es irreversible"))),l.a.createElement("p",{className:"text-warning"}))),l.a.createElement(xe.a.Footer,null,l.a.createElement(Oe.a,{onClick:r},"Cerrar")),g.fireRedirect&&l.a.createElement(O.a,{to:u}))})),Ae=t(284);var Pe=Object(h.b)((function(e){return{loanLoading:e.loan.loading}}),{renewLoan:be})((function(e){var a=e.renewLoan,t=e.onHide,r=e.show,c=e.loan,o=e.redirect,s=void 0===o?"":o,i=Object(n.useState)({id:c._id,amount:c.amount,plan:c.plan._id,fireRedirect:!1}),m=Object(w.a)(i,2),u=m[0],d=m[1],E=u.amount;return l.a.createElement(xe.a,{show:r,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(xe.a.Header,null,l.a.createElement(xe.a.Title,{id:"contained-modal-title-vcenter"},"Renovar un prestamo")),l.a.createElement(xe.a.Body,null,l.a.createElement(n.Fragment,null,l.a.createElement("p",null,"Intentas renovar a un prestamo de"," ",l.a.createElement("b",{className:"text-success"},l.a.createElement(Se.a,{value:c.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$",className:"h6 text-info"}))," ","de ",l.a.createElement("b",null,c.client.name+""+c.client.apellido)),l.a.createElement("p",null,"Este prestamo ha completado ",c.quota,"/ ",c.plan.steps," de sus pagos.",l.a.createElement(Ae.a,{now:c.quota/c.plan.steps*100,label:"".concat(c.quota/c.plan.steps*100,"%")})),l.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),a(u),""!==s&&d(Object(j.a)({},u,{fireRedirect:!0})),t()}},l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Row,null,l.a.createElement(_e.a.Label,null,"Monto"),l.a.createElement(Q.a,null,l.a.createElement(Se.a,{className:"form-control",value:E,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;d(Object(j.a)({},u,{amount:a}))}})),l.a.createElement(Q.a,null,l.a.createElement(Oe.a,{variant:"outline-success",type:"submit"},l.a.createElement("i",{className:"fa fa-paper-plane"})))))),l.a.createElement("p",{className:"text-warning"}))),l.a.createElement(xe.a.Footer,null,l.a.createElement(Oe.a,{onClick:t},"Cerrar")),u.fireRedirect&&l.a.createElement(O.a,{to:s}))})),Fe=function(e){var a,t=e.onHide,r=e.show,c=e.redirect,o=void 0===c?"":c,s=e.addpay,i=e.loan,m=e.loanLoading,u=Object(n.useState)((a={id:i._id,amount:"",interest:"",fireRedirect:!1,interestPayment:!1},Object(k.a)(a,"interestPayment",!1),Object(k.a)(a,"date",new Date),a)),d=Object(w.a)(u,2),E=d[0],p=d[1],f=E.date,b=E.amount,v=E.interest,g=E.fireRedirect,h=E.interestPayment,N=l.a.Fragment;return l.a.createElement(xe.a,{show:r,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},m?l.a.createElement(G,null):l.a.createElement(N,null,l.a.createElement(xe.a.Header,null,l.a.createElement(xe.a.Title,{id:"contained-modal-title-vcenter"},"Pagar un prestamo")),l.a.createElement(xe.a.Body,null,i&&null!=i&&l.a.createElement("div",{className:""},l.a.createElement("h3",{className:" text-center card-header"}," Pago para ".concat(i.client.name," ").concat(i.client.apellido," ")),l.a.createElement("div",{className:"my-4"},l.a.createElement("h6",{className:"text-center"},"Informaciones del prestamo"),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Monto del Prestamo "),l.a.createElement(Se.a,{value:i.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Numero de pago"),l.a.createElement("div",null,i.quota))),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Cuota a pagar"),l.a.createElement("div",null,l.a.createElement(Se.a,{value:i.amountPerQuota,displayType:"text",thousandSeparator:!0,prefix:"RD$"})))),l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("small",null,"Mora"),l.a.createElement("small",null,l.a.createElement(Se.a,{value:i.interestPerQuota,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(E),t(),""!=o?p(Object(j.a)({},E,{fireRedirect:!0})):window.location.reload()}},l.a.createElement("div",{className:"mb-2 d-flex justify-content-between"},l.a.createElement("span",null,"".concat(h?"Con":"Sin"," Mora"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),p(Object(j.a)({},E,{interestPayment:!E.interestPayment}))},className:"ml-2 btn btn-sm btn-outline-se"},l.a.createElement("i",{className:"fa ".concat(h?" fa-check text-success":"fa-times text-danger"," ")}))),l.a.createElement("span",null)),l.a.createElement("div",{className:"Form-group "},l.a.createElement("span",null,"Cantidad"),l.a.createElement(Se.a,{placeholder:"Cuota",className:"form-control",value:b,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;p(Object(j.a)({},E,{amount:a}))}})),l.a.createElement("div",{className:"mt-2 Form-group d-".concat(!h&&"none")},l.a.createElement("span",null,"Mora"),l.a.createElement(Se.a,{placeholder:"Mora",className:"form-control",value:v,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;p(Object(j.a)({},E,{interest:a}))}})),l.a.createElement("div",{className:"Form-group mt-2"},l.a.createElement("label",null,"Fecha"),l.a.createElement("input",Object(k.a)({type:"date",className:"form-control",onChange:function(e){p(Object(j.a)({},E,Object(k.a)({},e.target.name,e.target.value)))},value:f,name:"date"},"className","form-control"))),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Pagar"))),g&&l.a.createElement(O.a,{to:"/loan/".concat(i._id)}))),l.a.createElement(xe.a.Footer,null,l.a.createElement(Oe.a,{onClick:t},"Cerrar"))))};Fe.prototype={loanLoading:g.a.bool.isRequired,addpay:g.a.func.isRequired};var De=Object(h.b)((function(e){return{loanLoading:e.loan.loading}}),{addpay:ue,getLoanById:de})(Fe),ke=function(e){var a=e.loan,t=e.color,r=void 0===t?"dark":t,c=e.bgColor,o=void 0===c?"bg-white":c,s=e.noHistoryBtn,i=void 0!==s&&s,m=e.noPaymentBtn,u=void 0!==m&&m,d=e.noClientDetails,E=void 0!==d&&d,p=l.a.useState(!1),f=Object(w.a)(p,2),b=f[0],v=f[1],g=l.a.useState(!1),h=Object(w.a)(g,2),N=h[0],y=h[1],C=l.a.useState(!1),S=Object(w.a)(C,2),O=S[0],x=S[1];return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"".concat(o," rounded p-4")},l.a.createElement(Ae.a,{now:Math.round(a.quota/a.plan.steps*100),label:"".concat(Math.round(a.quota/a.plan.steps*100),"%\n            ")}),l.a.createElement("div",{className:"mb-2"},l.a.createElement("span",{className:"text-".concat(a.status?"success":"danger")},a.status?"Pagado":"No Pagado")),l.a.createElement("div",{className:" 2 d-flex justify-content-between mb-2 "},l.a.createElement("h5",{className:"text-".concat(r," d-").concat(E&&"none")},"".concat(a.client.name," ").concat(a.client.apellido)),l.a.createElement("h5",{className:"text-bold text-".concat(a.status?"success":"danger")},l.a.createElement(Se.a,{value:a.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))),l.a.createElement("div",{className:"mb-2 d-".concat(E&&"none")},l.a.createElement("span",{className:"text-".concat(r," mr-4 h6")},"Cedula :"),l.a.createElement("span",{className:"text-".concat(r," mr-4")},11==a.client.cedula.length?l.a.createElement(Se.a,{value:a.client.cedula,displayType:"text",format:"###-#######-#"}):l.a.createElement("span",null,a.client.cedula))),l.a.createElement("div",{className:"mb-2 d-".concat(E&&"none")},l.a.createElement("span",{className:"text-".concat(r," mr-4 h6")},"Telefono :"),l.a.createElement("span",{className:"text-".concat(r)},l.a.createElement(Se.a,{value:a.client.telefono,displayType:"text",format:"(###) ###-####"}))),l.a.createElement("div",{className:"mb-2 d-".concat(E&&"none")},l.a.createElement("span",{className:"text-".concat(r," mr-4 h6")},"Dirreccion :"),l.a.createElement("span",{className:"text-".concat(r)},a.client.dirreccion)),l.a.createElement("div",{className:"mb-2 d-".concat(E&&"none")},l.a.createElement("span",{className:"text-".concat(r," mr-4 h6")},"Ciudad :"),l.a.createElement("span",{className:"text-".concat(r)},a.client.ciudad.charAt(0).toUpperCase()+a.client.ciudad.slice(1))),l.a.createElement("div",{className:"mb-2 d-".concat(E&&"none")},l.a.createElement("span",{className:"text-".concat(r," mr-4 h6")},"Pagos Realizado :"),l.a.createElement("span",{className:"text-".concat(r)},a.quota," de ",a.plan.steps)),l.a.createElement("div",{className:"mb-3"},l.a.createElement("span",{className:"text-".concat(r," mr-3 h6 ")},"Fecha ".concat(a.status?"ultimo":"proximo"," pago :  ")),l.a.createElement("span",{className:"text-".concat(r)},a.nextpaymentDate)),a.comment&&""!==a.comment&&null!=a.comment&&l.a.createElement("div",{className:"mb-3"},l.a.createElement("span",{className:"text-danger mr-3 h6 "},a.comment)),a.oldLoan&&null!==a.oldLoan&&l.a.createElement("div",{className:"mb-3"},l.a.createElement("a",{href:"/loan/".concat(a.oldLoan),className:"text-".concat(r," mr-3 h6 ")},"Ver anterior")),l.a.createElement("div",{className:" m-info row "},l.a.createElement("div",{className:"col-sm-12 col-md-6 mb-2"},l.a.createElement("a",{href:"/loan/".concat(a._id),className:"btn btn-outline-info btn-block d-".concat(i&&"none")},"Historico")),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("button",{onClick:function(){return x(!0)},className:"btn btn-outline-info btn-block d-".concat(u&&"none")},"Pagar")),l.a.createElement("div",{className:"col-sm-12 col-md-6 mb-2"},a.quota/a.plan.steps*100>51&&l.a.createElement("button",{onClick:function(){return y(!0)},className:"btn btn-outline-info btn-block d-".concat((u||a.oldLoan)&&"none")},"Renovar")),l.a.createElement("div",{className:"col-sm-12 col-md-6 mb-2"},l.a.createElement("button",{onClick:function(){return v(!0)},className:"btn btn-outline-info btn-block d-".concat(u&&"none")},"Cancelar")))),l.a.createElement(Re,{show:b,onHide:function(){return v(!1)},loan:a}),l.a.createElement(De,{show:O,onHide:function(){return x(!1)},loan:a}),l.a.createElement(Pe,{show:N,onHide:function(){return y(!1)},loan:a}))},Ie=Object(h.b)((function(e){return{loans:e.loan.loans,filteredLoans:e.loan.filteredLoans,loanLoading:e.loan.loading}}),{filterLoans:function(e,a){return function(){var t=Object(i.a)(s.a.mark((function t(n){var l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=a.filter((function(a){return!a.client.name.trim().toLowerCase().indexOf(e.trim().toLowerCase())})),n({type:"FILTER_LOAN",payload:l});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadLoans:Ee})((function(e){var a=e.loadLoans,t=e.loans,r=e.loanLoading,c=e.filteredLoans,o=e.filterLoans;Object(n.useEffect)((function(){a()}),[]);return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container mt-5"},l.a.createElement(n.Fragment,null,r?l.a.createElement(G,null):l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 "}),l.a.createElement("div",{className:"col-md-6 col-sm-12 "},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"fa fa-filter"}),l.a.createElement("i",{className:"fa fa-user mx-2 text-muted"}))),l.a.createElement("input",{onChange:function(e){o(e.target.value,t)},type:"text",className:"form-control"})))),l.a.createElement("div",{className:" p-2"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h5",{className:" text-white"},"Lista de los prestamos")),l.a.createElement("div",{className:" row"},c.map((function(e){return l.a.createElement("div",{key:e._id,className:" col-12 col-sm-6 col-md-4 mb-4\n                      "},l.a.createElement(ke,{loan:e,noPaymentBtn:e.status}))}))))))))}));var Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(n.useState)(e),t=Object(w.a)(a,2),l=t[0],r=t[1],c=function(){r(!l)};return[l,c]},qe=function(e){e.handleChange;var a=e.name,t=e.value,n=e.editable,r=e.type,c=Ue(!1),o=Object(w.a)(c,2),s=o[0],i=o[1];return l.a.createElement("div",{className:"shadow-box effect1 my-2"},l.a.createElement("div",{className:"form-group p-2 text-white"},l.a.createElement("label",{classnme:"h6"},a,":"),s?l.a.createElement("input",{className:"form-control",name:a,type:r||"text",onChange:function(e){console.log(e.target.name+":"+e.target.value)}}):l.a.createElement("div",{className:"ml-2"},t),n&&l.a.createElement("span",{className:"ml-2"},l.a.createElement("label",{htmlFor:a},l.a.createElement("input",{id:a,name:a,className:"d-none",type:"checkbox",value:s,onChange:i}),l.a.createElement("i",{className:"fa fa-pencil"})))))},He=function(e){var a=e.client,t=Object(n.useState)(Object(j.a)({},a)),r=Object(w.a)(t,2),c=r[0],o=r[1],s=function(e){console.log(e.target.value),o(Object(j.a)({},c,Object(k.a)({},e.target.name,e.target.value)))},i=c.name,m=c.apellido;return l.a.createElement("form",null,l.a.createElement(qe,{name:"Nombre",value:i,editable:!1}),l.a.createElement(qe,{name:"apellido",value:m,editable:!1,handleChange:s}),l.a.createElement(qe,{name:"Cedula",value:a.cedula,editable:!1}),l.a.createElement(qe,{name:"Telefono",value:a.telefono,editable:!1,handleChange:s}),l.a.createElement(qe,{name:"Dirreccion ",value:a.dirreccion,editable:!1,handleChange:s}),l.a.createElement(qe,{name:"Referencia",value:a.DirReferencia,editable:!1,handleChange:s}),l.a.createElement(qe,{name:"Ciudad",value:a.ciudad,editable:!1,handleChange:s}))},Me=function(e){var a=e.client,t=void 0===a?null:a,r=e.submit,c=e.loadCities,o=e.cityLoading,s=e.cities;Object(n.useEffect)((function(){c()}),[]);var i=t||{name:"",apellido:"",cedula:"",telefono:"",telefono2:"",telefono3:"",dirreccion:"",ciudad:"",DirReferencia:""},m=Object(n.useState)(Object(j.a)({},i)),u=Object(w.a)(m,2),d=u[0],E=u[1],p=function(e){E(Object(j.a)({},d,Object(k.a)({},e.target.name,e.target.value)))};return l.a.createElement(n.Fragment,null,o?l.a.createElement(G,null):l.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),r(d)}},l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Nombre"),l.a.createElement(_e.a.Control,{onChange:p,value:d.name,name:"name"}))),l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Apellido"),l.a.createElement(_e.a.Control,{onChange:p,name:"apellido",value:d.apellido})))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Cedula"),null===t?l.a.createElement(_e.a.Control,{onChange:p,value:d.cedula}):l.a.createElement(_e.a.Control,{value:d.cedula,disabled:!0}))),l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Ciudad"),l.a.createElement(_e.a.Control,{as:"select",name:"ciudad",value:d.ciudad,onChange:p},l.a.createElement("option",{disable:!0}),s.map((function(e){return l.a.createElement("option",{key:e._id,value:e.name},e.name)})))))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Dirreccion"),l.a.createElement(_e.a.Control,{onChange:p,name:"dirreccion",value:d.dirreccion}))),l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Referencia"),l.a.createElement(_e.a.Control,{onChange:p,name:"DirReferencia",value:d.DirReferencia})))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Telefono1"),l.a.createElement(_e.a.Control,{onChange:p,name:"telefono",value:d.telefono}))),l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Telefono2"),l.a.createElement(_e.a.Control,{onChange:p,name:"telefono2",value:d.telefono2})))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Label,null,"Telefono3"),l.a.createElement(_e.a.Control,{onChange:p,name:"telefono3",value:d.telefono3})))),l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(Oe.a,{block:!0,type:"submit"}," ","Guardar")))))};Me.prototype={cities:g.a.array.isRequired,cityLoading:g.a.bool.isRequired};var Qe=Object(h.b)((function(e){return{cities:e.city.cities,cityLoading:e.city.loading}}),{loadCities:Ne})(Me),Ve=Object(h.b)((function(e){return{}}),{updateClient:he})((function(e){var a=e.updateClient,t=e.onHide,r=e.show,c=e.client,o=e.redirect,s=void 0===o?"":o,i=Object(n.useState)(c),m=Object(w.a)(i,2),u=m[0],d=m[1];Object(n.useEffect)((function(){console.log(r),r&&console.log("I will edit  a client")}),[r]);return l.a.createElement(xe.a,{show:r,size:"lg",centered:!0},l.a.createElement(xe.a.Header,null,l.a.createElement(xe.a.Title,null,l.a.createElement("div",{className:"text-left"},l.a.createElement("i",{onClick:t,className:"fa fa-times"})),l.a.createElement(M.a,null,l.a.createElement(Q.a,null,"Editar un cliente")))),l.a.createElement(xe.a.Body,null,l.a.createElement(Qe,{client:c,submit:function(e){a(e),""!==s?d(Object(j.a)({},u,{fireRedirect:!0})):window.location.reload(),t()}})),u.fireRedirect&&l.a.createElement(O.a,{to:s}))})),Ye=(t(270),Object(h.b)((function(e){return{client:e.profile.profile,selectedLoans:e.loan.selectedLoans,loanLoading:e.loan.loading,profileLoading:e.profile.isLoading}}),{updateClient:he,loadSelectedProfile:ve,loadClientLoan:me})((function(e){var a=e.client,t=e.selectedLoans,r=e.profileLoading,c=e.loanLoading,o=e.loadSelectedProfile,s=e.loadClientLoan,i=e.match.params.id;Object(n.useEffect)((function(){o(i),s(i)}),[]);var m=Object(n.useState)({}),u=Object(w.a)(m,2),d=u[0],E=u[1],p=Object(n.useState)(!1),f=Object(w.a)(p,2),b=f[0],v=f[1],g=Object(n.useState)(!1),h=Object(w.a)(g,2),N=h[0],y=h[1];return l.a.createElement("div",null,r&&c?l.a.createElement(G,{message:"Cargando el cliente "}):l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col col-xs-12 col-sm-4"},l.a.createElement("div",{className:"card bg-transparent card-secondary "},l.a.createElement("div",{className:"card-body"},r?l.a.createElement("div",{className:"spinner-border"},l.a.createElement("span",{className:"sr-only"},"Cargando")):l.a.createElement(n.Fragment,null,l.a.createElement("h5",{className:" text-left"},"Cliente"),null!=a&&l.a.createElement(He,{client:a}),l.a.createElement(M.a,null,l.a.createElement(Q.a,null," ",l.a.createElement(Oe.a,{block:!0,variant:"info",size:"sm",onClick:function(){E(a),y(!0)}},l.a.createElement("i",{className:"fa fa-pencil"}))),l.a.createElement(Q.a,null,l.a.createElement(Oe.a,{block:!0,variant:"outline-danger",size:"sm",onClick:function(){E(a),v(!0)}},l.a.createElement("i",{className:"fa fa-trash"})))))))),l.a.createElement("div",{className:"col col-xs-12 col-sm-8"},l.a.createElement("div",{className:"card bg-transparent h-100"},l.a.createElement("div",{className:"card-body"},c?l.a.createElement("div",{className:"spinner-border"},l.a.createElement("span",{className:"sr-only"},"cargando")):l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("a",{clasName:"ml-2",href:"/newLoan/".concat(i)},l.a.createElement("h5",null,"Pestamos",l.a.createElement("i",{className:"ml-2 fa fa-plus"})))),l.a.createElement("div",{className:"col-sm-12 col-md-6"})),t&&null!=t&&t.length>0?l.a.createElement("table",{className:"table table-borderless table-sm table-responsive-md table-hover text-white"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{scope:"col"},"Fecha"),l.a.createElement("td",{scope:"col"},"Monto"),l.a.createElement("td",{scope:"col"},"Plan"),l.a.createElement("td",{scope:"col"},"Estado"),l.a.createElement("td",{scope:"col"},"Actiones"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e._id,className:"shadow-box effect1 "},l.a.createElement("td",{"data-toggle":"tooltip","data-placement":"bottom","data-animation":"true",title:"Fecha creada"},e.date),l.a.createElement("td",null," RD$",e.amount),l.a.createElement("td",null,e.plan.name),l.a.createElement("td",null,l.a.createElement("i",{className:" fa fa-".concat(e.status?"check text-success":"times text-danger")})),l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement(Oe.a,{variant:"outline-primary",size:"sm",href:"/payment/".concat(e._id)},"Pagar"),l.a.createElement(Oe.a,{size:"sm",variant:"outline-info",className:"mx-2  ",href:"/loan/".concat(e._id)},"Info"))))})))):l.a.createElement("div",{className:"h-100 w-100 d-flex justify-content-center align-items-center"},l.a.createElement("a",{href:"/newLoan/".concat(i),className:"btn btn-outline-primary border border-0"},l.a.createElement("i",{className:"fa fa-plus fa-5x"}),l.a.createElement("div",null,"Agregar un prestamo"))))),l.a.createElement("div",{className:"card-footer"},l.a.createElement("a",{href:"/newLoan/".concat(i),className:"btn btn-block btn-outline-primary"},"Nuevo prestamo")))))),l.a.createElement(je,{show:b,onHide:function(){return v(!1)},client:d,redirect:"/clients"}),l.a.createElement(Ve,{show:N,onHide:function(){return y(!1)},client:d,redirect:"/clients"}))}))),Ge=t(124),Be=function(e){var a=e.title,t=e.data,r=Object(n.useState)(),c=Object(w.a)(r,2),o=c[0],s=c[1];return l.a.createElement("li",{className:"shadow-box effect1 list-group-item mb-2 p-0 rounded-0"},l.a.createElement("div",{className:" py-2 pl-2"},l.a.createElement("h6",{className:"text-bold"},a),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",null,o?l.a.createElement("span",null,l.a.createElement("input",{name:"data",value:t,className:"border-0 pl-2 form-control text-success text-bold",placeholder:t.charAt(0).toUpperCase()+t.slice(1)})):l.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1))),l.a.createElement("div",{className:"pr-3 modifier"},l.a.createElement("label",{htmlFor:"editor"},l.a.createElement("i",{className:"fa fa-pencil"})),l.a.createElement("input",{id:"editor",name:"editor",onChange:function(e){s({editting:e.target.checked})},className:" d-none ",type:"checkbox",checked:o})))))},$e=Object(h.b)((function(e){return{profiles:e.profile.profiles,loans:e.loan.loans,loanLoading:e.loan.loading,profileLoading:e.profile.isLoading,authLoading:e.auth.loading,cityLoading:e.city.loading,cities:e.city.cities}}),{updateClient:he})((function(e){Object(Ge.a)(e);l.a.Fragment;return l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("div",{className:" row  "},l.a.createElement("div",{className:"col col-md-4 "},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title text-center my-4"},l.a.createElement("div",null,l.a.createElement("i",{className:"fa fa-user fa-5x text-muted"}))),l.a.createElement(Be,{title:"Nombre",data:"Wadson"}),l.a.createElement(Be,{title:"Nombre",data:"Wadson"}),l.a.createElement("a",{href:"#",className:"btn btn-sm  btn-primary"},"Modificar")))),l.a.createElement("div",{className:"col col-md-8 "},l.a.createElement("div",{className:"information h-100"},l.a.createElement("div",{className:"card h-100 d-flex \r align-content-center align-items-center"},l.a.createElement("h5",{className:"card-title pt-2 text-left"}," Prestamos"),l.a.createElement("div",{className:"card-body h-100 d-flex \r align-items-center justify-content-center"},l.a.createElement("div",{className:" "},l.a.createElement("button",{className:" btn btn-outline-secondary text-center"},l.a.createElement("i",{className:"fa fa-plus fa-5x text-info"})))),l.a.createElement("div",{className:"card-footer w-100 d-flex align-items-center"},l.a.createElement("button",{className:" btn btn-block btn-outline-primary "},"Crear nuevo pretamo"))))))))})),ze=function(e){var a=e.getLoanById,t=e.addpay,r=e.loan,c=e.loanLoading,o=(e.authLoading,e.match.params.id),s=Object(n.useState)({id:o,amount:"",interest:"",fireRedirect:!1,interestPayment:!1,date:new Date}),i=Object(w.a)(s,2),m=i[0],u=i[1],d=m.date,E=m.amount,p=m.interest,f=m.fireRedirect,b=m.interestPayment;Object(n.useEffect)((function(){console.log("I will call "+o),a(o)}),[a,o]);var v=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},c?l.a.createElement(G,null):l.a.createElement(v,null,r&&null!=r&&l.a.createElement("div",{className:"text-white"},l.a.createElement("h3",{className:"text-white text-center card-header"}," Registro de pago viejo para ".concat(r.client.name," ").concat(r.client.apellido," ")),l.a.createElement("div",{className:"my-4"},l.a.createElement("h6",null,"Informaciones del prestamo"),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Monto del Prestamo "),l.a.createElement(Se.a,{value:r.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Numero de pago"),l.a.createElement("div",null,r.quota))),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Cuota a pagar"),l.a.createElement("div",null,l.a.createElement(Se.a,{value:r.amountPerQuota,displayType:"text",thousandSeparator:!0,prefix:"RD$"})))),l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("small",null,"Mora"),l.a.createElement("small",null,l.a.createElement(Se.a,{value:r.interestPerQuota,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(m),u(Object(j.a)({},m,{fireRedirect:!0}))}},l.a.createElement("div",{className:"mb-2 d-flex justify-content-between"},l.a.createElement("span",null,"".concat(b?"Con":"Sin"," Mora"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),u(Object(j.a)({},m,{interestPayment:!m.interestPayment}))},className:"ml-2 btn btn-sm btn-outline-se"},l.a.createElement("i",{className:"fa ".concat(b?" fa-check text-success":"fa-times text-danger"," ")}))),l.a.createElement("span",null)),l.a.createElement("div",{className:"Form-group "},l.a.createElement("span",null,"Cantidad"),l.a.createElement(Se.a,{placeholder:"Cuota",className:"form-control",value:E,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;u(Object(j.a)({},m,{amount:a}))}})),l.a.createElement("div",{className:"mt-2 Form-group d-".concat(!b&&"none")},l.a.createElement("span",null,"Mora"),l.a.createElement(Se.a,{placeholder:"Mora",className:"form-control",value:p,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;u(Object(j.a)({},m,{interest:a}))}})),l.a.createElement("div",{className:"Form-group mt-2"},l.a.createElement("label",null,"Fecha"),l.a.createElement("input",Object(k.a)({type:"date",className:"form-control",onChange:function(e){u(Object(j.a)({},m,Object(k.a)({},e.target.name,e.target.value)))},value:d,name:"date"},"className","form-control"))),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Pagar"))),f&&l.a.createElement(O.a,{to:"/loan/".concat(o)}))))};ze.prototype={loan:g.a.object.isRequired,loanLoading:g.a.bool.isRequired,addpay:g.a.func.isRequired};var Xe=Object(h.b)((function(e){return{loanLoading:e.loan.loading,loan:e.loan.loan}}),{addpay:ue,getLoanById:de})(ze),Je=function(e){var a=e.loading,t=e.isAuthenticated,r=e.login,c=(e.loadUser,Object(n.useState)({name:"",password:""})),o=Object(w.a)(c,2),s=o[0],i=o[1],m=function(e){i(Object(j.a)({},s,Object(k.a)({},e.target.name,e.target.value.trim())))};return t?l.a.createElement(O.a,{to:"/"}):l.a.createElement("div",{className:"h-100 container-fluid"},a?l.a.createElement(G,null):l.a.createElement("div",{className:"centered-box  d-flex justify-content-center align-items-center"},l.a.createElement("div",{className:"small-box rounded px-3 py-5 mb-5 bg-white h-75 w-100 "},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=s.name,t=s.password;r({name:a,password:t})},className:"d-flex h-100 justify-content-center align-items-center"},l.a.createElement("div",{className:"w-100"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Usuario"),l.a.createElement("input",{name:"name",type:"text",className:"form-control",placeholder:"Enter nombre",required:!0,onChange:m})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Contrasena"),l.a.createElement("input",{name:"password",type:"password",className:"form-control",placeholder:"Entrar contrasena",required:!0,onChange:m})),l.a.createElement("button",{type:"submit",className:"btn btn-block btn-sm btn-outline-success"},"Submit"))))))};Je.prototype={isAuthenticated:g.a.object.isRequired,loading:g.a.bool.isRequired};var We=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading}}),{login:function(e){var a=e.name,t=e.password;return function(){var e=Object(i.a)(s.a.mark((function e(n){var l,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},r=JSON.stringify({name:a,password:t}),e.prev=2,n({type:"LOG_IN_REQUEST"}),e.next=6,u.a.post("api/auth",r,l);case 6:c=e.sent,n({type:"LOG_IN_SUCCESS",payload:c.data}),n(p("Bienvenido de regreso","success")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),n(p(" Error ".concat(e.t0.response.data.msg," "),"danger")),n({type:"LOG_IN_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a){return e.apply(this,arguments)}}()},loadUser:b})(Je),Ke=function(e){var a=e.name,t=e.password,n=e.nombreUsuarios;return function(){var e=Object(i.a)(s.a.mark((function e(l){var r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:a,password:t,nombreUsuarios:n}),e.prev=2,l({type:"REGISTER_REQUEST"}),e.next=6,u.a.post("/api/user",c,r);case 6:o=e.sent,l({type:"REGISTER_SUCCESS",payload:o.data}),l(p(" Usuario ".concat(a," creado con exito"),"success")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),l({type:"REGISTER_FAIL"}),l(p("Error ".concat(e.t0.response.data),"danger"));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a){return e.apply(this,arguments)}}()},Ze=Object(h.b)(null,{setAlert:p,register:Ke})((function(e){var a=e.setAlert,t=e.register,r=Object(n.useState)({name:"",password:"",password2:""}),c=Object(w.a)(r,2),o=c[0],s=c[1],i=o.password,m=o.password2,u=o.name,d=function(e){return s(Object(j.a)({},o,Object(k.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"h-100 container-fluid"},l.a.createElement("div",{className:"centered-box  d-flex justify-content-center align-items-center"},l.a.createElement("div",{className:"small-box rounded px-3 py-3 mb-5 bg-white h-75 w-100 "},l.a.createElement("h4",{className:"text-center text-muted"},"Register Form "),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i!==m&&a("Las contrasenas no son iguales","danger"),t({name:u,password:i})},className:"d-flex h-100 justify-content-center align-items-center"},l.a.createElement("div",{className:"w-100"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlfor:"exampleInputEmail1"},"Nombre"),l.a.createElement("input",{onChange:d,value:u,name:"name",type:"text",className:"form-control",placeholder:"Enter nombre",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlfor:"exampleInputPassword1"},"Contrasena"),l.a.createElement("input",{onChange:d,value:i,name:"password",type:"password",className:"form-control",placeholder:"Entrar contrasena",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlfor:"exampleInputPassword1"},"Verificar contrasena"),l.a.createElement("input",{onChange:d,value:m,name:"password2",type:"password",className:"form-control",placeholder:"Entrar contrasena",required:!0})),l.a.createElement("button",{type:"submit",className:"mb-5 btn btn-block btn-sm btn-outline-success"},"Registrar",l.a.createElement("i",{className:" ml-3 mt-1 fa fa-sign-in"})))))))})),ea=function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"PLAN_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/plan");case 4:t=e.sent,a({type:"PLAN_FETCH_SUCCESS",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"PLAN_FETCH_FAIL"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},aa=Object(h.b)((function(e){return{client:e.profile.profile,profileLoading:e.profile.isLoading,plans:e.plan.plans,planLoading:e.plan.loading,loanLoading:e.loan.loading}}),{addLoan:pe,loadSelectedProfile:ve,setAlert:p,loadPlan:ea})((function(e){var a=e.plans,t=e.planLoading,r=e.client,c=e.loanLoading,o=e.profileLoading,s=e.addLoan,i=e.loadSelectedProfile,m=e.loadPlan,u=(e.setAlert,e.match.params.id);Object(n.useEffect)((function(){console.log("in here hdfbvjfbjffbj;"),i(u),m()}),[]);var d=Object(n.useState)({client:u,amount:0,plan:"",date:new Date}),E=Object(w.a)(d,2),p=E[0],f=E[1],b=function(e){f(Object(j.a)({},p,Object(k.a)({},e.target.name,e.target.value)))},v=p.date,g=p.fireRedirect,h=p.amount,N=p.plan,y=function(){return console.log(parseInt(h)),0!==h&&""!==N},C=Object(n.useState)(),S=Object(w.a)(C,2),x=S[0],L=S[1];return l.a.createElement("div",{className:"container text-white mt-5 pt-5"},t||c||o||null==r||!r?l.a.createElement(G,null):l.a.createElement("div",null,l.a.createElement("div",{className:"h6 card-header"},"Crear Prestamo por ".concat(r.name," ").concat(r.apellido)),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y()?s(p):console.log("Verificar toda las informaciones"),f(Object(j.a)({},p,{fireRedirect:!0}))}},l.a.createElement("div",{className:"Form-group mb-3"},l.a.createElement("label",null,"Cantidad"),l.a.createElement(Se.a,{className:"form-control",value:h,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;f(Object(j.a)({},p,{amount:a}))}})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Elegir el plan"),l.a.createElement("select",Object(k.a)({className:"form-control",onChange:b,value:N,name:"plan"},"className","form-control"),l.a.createElement("option",null),a.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),x?l.a.createElement("div",{className:"Form-group mt-2"},l.a.createElement("label",null,"Fecha"),l.a.createElement("input",Object(k.a)({type:"date",className:"form-control",onChange:b,value:v,name:"date"},"className","form-control"))):l.a.createElement("label",null,l.a.createElement("input",{name:"editor",onChange:function(e){L({editting:e.target.checked})},className:" d-none ",type:"checkbox",checked:x}),"Agregar fecha"),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info"}," ","Crear Nuevo Prestamo"))),g&&l.a.createElement(O.a,{to:"/client/".concat(u)}))))})),ta=function(e){e.profiles;var a=e.loanLoading,t=(e.profileLoading,e.renewLoan),r=e.match.params.id,c=Object(n.useState)({id:r,amount:0}),o=Object(w.a)(c,2),s=o[0],i=o[1],m=s.fireRedirect,u=s.amount,d=function(){return 0!==u};return l.a.createElement("div",{className:"container text-white mt-5 pt-5"},a?l.a.createElement(G,null):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"h6 card-header"},"Renovar pretamo"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d()&&t(s)}},l.a.createElement("div",{className:"Form-group mb-3"},l.a.createElement("label",null,"Cantidad"),l.a.createElement(Se.a,{className:"form-control",value:u,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;i(Object(j.a)({},s,{amount:a}))}})),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info"}," Renovar Prestamo"))),m&&l.a.createElement(O.a,{to:"/client/".concat(r)})))))};ta.prototype={profiles:g.a.array.isRequired,profileLoading:g.a.bool.isRequired,loanLoading:g.a.bool.isRequired,authLoading:g.a.bool.isRequired,renewLoan:g.a.func.isRequired,setAlert:g.a.func.isRequired};var na=Object(h.b)((function(e){return{profiles:e.profile.profiles,profileLoading:e.profile.isLoading,plans:e.plan.plans,planLoading:e.plan.loading,loanLoading:e.loan.loading,authLoading:e.auth.loading}}),{renewLoan:be})(ta),la=function(e){var a,t=e.getLoanById,r=e.addpay,c=e.loan,o=e.loanLoading,s=(e.authLoading,e.match.params.id),i=Object(n.useState)((a={id:s,amount:"",interest:"",fireRedirect:!1,interestPayment:!1},Object(k.a)(a,"interestPayment",!1),Object(k.a)(a,"date",new Date),a)),m=Object(w.a)(i,2),u=m[0],d=m[1],E=u.date,p=u.amount,f=u.interest,b=u.fireRedirect,v=u.interestPayment;Object(n.useEffect)((function(){console.log("I will call "+s),t(s)}),[t,s]);var g=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},o?l.a.createElement(G,null):l.a.createElement(g,null,c&&null!=c&&l.a.createElement("div",{className:"text-white"},l.a.createElement("h3",{className:"text-white text-center card-header"}," Pago para ".concat(c.client.name," ").concat(c.client.apellido," ")),l.a.createElement("div",{className:"my-4"},l.a.createElement("h6",{className:"text-center"},"Informaciones del prestamo"),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Monto del Prestamo "),l.a.createElement(Se.a,{value:c.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Numero de pago"),l.a.createElement("div",null,c.quota))),l.a.createElement("h5",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,"Cuota a pagar"),l.a.createElement("div",null,l.a.createElement(Se.a,{value:c.amountPerQuota,displayType:"text",thousandSeparator:!0,prefix:"RD$"})))),l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("small",null,"Mora"),l.a.createElement("small",null,l.a.createElement(Se.a,{value:c.interestPerQuota,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r(u),d(Object(j.a)({},u,{fireRedirect:!0}))}},l.a.createElement("div",{className:"mb-2 d-flex justify-content-between"},l.a.createElement("span",null,"".concat(v?"Con":"Sin"," Mora"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),d(Object(j.a)({},u,{interestPayment:!u.interestPayment}))},className:"ml-2 btn btn-sm btn-outline-se"},l.a.createElement("i",{className:"fa ".concat(v?" fa-check text-success":"fa-times text-danger"," ")}))),l.a.createElement("span",null)),l.a.createElement("div",{className:"Form-group "},l.a.createElement("span",null,"Cantidad"),l.a.createElement(Se.a,{placeholder:"Cuota",className:"form-control",value:p,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;d(Object(j.a)({},u,{amount:a}))}})),l.a.createElement("div",{className:"mt-2 Form-group d-".concat(!v&&"none")},l.a.createElement("span",null,"Mora"),l.a.createElement(Se.a,{placeholder:"Mora",className:"form-control",value:f,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;d(Object(j.a)({},u,{interest:a}))}})),l.a.createElement("div",{className:"Form-group mt-2"},l.a.createElement("label",null,"Fecha"),l.a.createElement("input",Object(k.a)({type:"date",className:"form-control",onChange:function(e){d(Object(j.a)({},u,Object(k.a)({},e.target.name,e.target.value)))},value:E,name:"date"},"className","form-control"))),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Pagar"))),b&&l.a.createElement(O.a,{to:"/loan/".concat(s)}))))};la.prototype={loan:g.a.object.isRequired,loanLoading:g.a.bool.isRequired,addpay:g.a.func.isRequired};var ra=Object(h.b)((function(e){return{loanLoading:e.loan.loading,loan:e.loan.loan}}),{addpay:ue,getLoanById:de})(la),ca=function(e){var a=e.addPlan,t=e.planLoading,r=Object(n.useState)({name:"",steps:"",interval:"",interest:"",fireRedirect:!1}),c=Object(w.a)(r,2),o=c[0],s=c[1],i=function(e){s(Object(j.a)({},o,Object(k.a)({},e.target.name,e.target.value)))},m=o.fireRedirect,u=o.name,d=o.steps,E=o.interval,p=o.interest,f=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},t?l.a.createElement(G,null):l.a.createElement(f,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(o),a(o),s(Object(j.a)({},o,{fireRedirect:!0}))}},l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Nombre del plan"),l.a.createElement("input",{name:"name",type:"text",value:u,onChange:i,className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"En cuanto pago se paga"),l.a.createElement("input",Object(k.a)({onChange:i,name:"steps",className:"form-control",type:"number",value:d},"className","form-control"))),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Tasa"),l.a.createElement(Se.a,{className:"form-control",value:p,thousandSeparator:!0,suffix:"%",onValueChange:function(e){e.formattedValue;var a=e.value;s(Object(j.a)({},o,{interest:a}))}})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Cada cuanto dia"),l.a.createElement(Se.a,{className:"form-control",value:E,suffix:"Dias",onValueChange:function(e){e.formattedValue;var a=e.value;s(Object(j.a)({},o,{interval:a}))}})),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Agregar"))),m&&l.a.createElement(O.a,{to:"/plan/"})))};ca.prototype={planLoading:g.a.bool.isRequired};var oa=Object(h.b)((function(e){return{planLoading:e.plan.loading}}),{addPlan:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),t({type:"PLAN_FETCH_REQUEST"}),a.prev=3,a.next=6,u.a.post("/api/plan",l,n);case 6:r=a.sent,t({type:"PLAN_ADD_SUCCESS",payload:r.data}),t(p(" Plan de ".concat(e.name," creado con exito"),"success")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),t(p("Error al agregar plan verifica que hay internet","danger")),t({type:"PLAN_ADD_FAIL"});case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()}})(ca),sa=function(e){var a=e.loadPlan,t=(e.addPlan,e.plans),r=e.planLoading;e.authLoading;Object(n.useEffect)((function(){a()}),[a]);var c=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},r?l.a.createElement(G,null):l.a.createElement(c,null,l.a.createElement("div",{className:"my-info  mb-2 p-0 rounded-0"},l.a.createElement("div",{className:"  "},l.a.createElement("a",{href:"/newplan",className:" text-white btn btn-outline-secondary btn-block "},"Crear nuevo plan"))),t.length>0?l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item disabled"},"Planes"),t.map((function(e){return l.a.createElement("li",{className:"list-group-item",key:e._id},l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Nombre:"),l.a.createElement("span",null,e.name)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Interes:"),l.a.createElement("span",null,e.interest," % ")),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Intervalo:"),l.a.createElement("span",null," cada ",e.interval," dias ")),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Cantidad de pasos:"),l.a.createElement("span",null," ",e.steps," ")))}))):l.a.createElement("h4",{className:"text-center text-white "},"No hay definido ningun plan aun")))};sa.prototype={planLoading:g.a.bool.isRequired,authLoading:g.a.bool.isRequired,plan:g.a.array.isRequired};var ia=Object(h.b)((function(e){return{planLoading:e.plan.loading,authLoading:e.auth.loading,plans:e.plan.plans}}),{loadPlan:ea})(sa),ma=function(e){var a=e.loadCities,t=e.removeCity,r=e.cities,c=e.cityLoading;Object(n.useEffect)((function(){a()}),[a]);var o=function(e){t(e.target.id)};return l.a.createElement("div",{className:"container mt-5 pt-5"},c?l.a.createElement(G,null):l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"my-info  mb-2 p-0 rounded-0"},l.a.createElement("div",{className:"  "},l.a.createElement("a",{href:"/newcity",className:" text-white btn btn-outline-secondary btn-block "},"Agregar nueva ciudad"))),r.length>0?l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item disabled"},"Ciudades"),r&&null!==r&&r.length>0&&r.map((function(e){return l.a.createElement("li",{className:"list-group-item h6",key:e._id},l.a.createElement(M.a,null,l.a.createElement(Q.a,null,l.a.createElement("p",null,l.a.createElement("div",null,"Nombre : ",(a=e.name).charAt(0).toUpperCase()+a.slice(1)),l.a.createElement("div",null,l.a.createElement("small",{className:"text-".concat(e.total>0?"dark":"danger")},"Contiene ",e.total," clientes")))),0===e.total&&l.a.createElement(Q.a,{className:"d-flex justify-content-end "},l.a.createElement(Oe.a,{id:e.id,onClick:o,variant:"outline-danger"},l.a.createElement("i",{className:"fa fa-trash"})))));var a}))):l.a.createElement("h4",{className:"text-white text-center "}," ","Aun no has registrado ciudades")))};ma.prototype={cityLoading:g.a.bool.isRequired,authLoading:g.a.bool.isRequired,cities:g.a.array.isRequired};var ua=Object(h.b)((function(e){return{cityLoading:e.city.loading,authLoading:e.auth.loading,cities:e.city.cities}}),{loadCities:Ne,removeCity:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"CITY_DELETE_REQUEST"}),a.next=4,u.a.delete("/api/city/".concat(e));case 4:n=a.sent,t({type:"CITY_DELETE_SUCCESS",payload:n.data}),t(p(" Ciudad Borado con exito","success")),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"CITY_DELETE_FAIL"}),t(p("Error al Borar ciudad","danger"));case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})(ma),da=function(e){var a=e.addCity,t=e.cityLoading,r=Object(n.useState)({name:"",fireRedirect:!1}),c=Object(w.a)(r,2),o=c[0],s=c[1],i=o.fireRedirect,m=o.name,u=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},t?l.a.createElement(G,null):l.a.createElement(u,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(o),a(o),s(Object(j.a)({},o,{fireRedirect:!0}))}},l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Nombre de la ciudad"),l.a.createElement("input",{required:!0,name:"name",type:"text",value:m,onChange:function(e){s(Object(j.a)({},o,Object(k.a)({},e.target.name,e.target.value)))},className:"form-control"})),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Agregar"))),i&&l.a.createElement(O.a,{to:"/cities/"})))};da.prototype={cityLoading:g.a.bool.isRequired};var Ea=Object(h.b)((function(e){return{cityLoading:e.city.loading}}),{addCity:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),a.prev=2,t({type:"CITY_FETCH_REQUEST"}),a.next=6,u.a.post("/api/city",l,n);case 6:r=a.sent,t({type:"CITY_ADD_SUCCESS",payload:r.data}),t(p(" Ciudad ".concat(e.name," agregado con exito"),"success")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),t({type:"CITY_ADD_FAIL"}),t(p("Error al agregar ciudad ".concat(a.t0.response.data.msg),"danger"));case 15:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()}})(da),pa=function(e){var a=e.loadExpenses,t=e.expenses,r=e.expenseLoading,c=e.removeExpenses;Object(n.useEffect)((function(){return a(),function(){console.log("out of here")}}),[a,a]);var o=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},r?l.a.createElement(G,null):l.a.createElement(o,null,l.a.createElement("div",{className:"my-info  mb-2 p-0 rounded-0"},l.a.createElement("div",{className:"  "},l.a.createElement("a",{href:"/newexpense",className:" text-white btn btn-outline-secondary btn-block "},"Agregar nuevo gasto"))),t.length>0?l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item disabled"},"Gatos"),t&&null!==t&&t.length>0&&t.map((function(e){return l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"}," Description :"),l.a.createElement("span",null,e.description)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"}," Cantidad :"),l.a.createElement("span",null,l.a.createElement(Se.a,{value:e.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$",className:"h6 text-info"}))),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("button",{id:e._id,onClick:function(e){c(e.target.id)},className:"btn btn-sm btn-outline-danger"},"Eliminar gasto")))}))):l.a.createElement("h4",{className:" text-center text-white mt-2"}," ","**Aun no hay gastos registrado**")))};pa.prototype={expenseLoading:g.a.bool.isRequired,expenses:g.a.array.isRequired};var fa=Object(h.b)((function(e){return{expenseLoading:e.expense.loading,expenses:e.expense.expenses}}),{loadExpenses:oe,removeExpenses:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"EXPENSES_DELETE_REQUEST"}),a.prev=1,a.next=4,u.a.delete("/api/expense/".concat(e));case 4:n=a.sent,t({type:"EXPENSES_DELETE_SUCCESS",payload:n.data}),t(p(" Gato borado con exito","success")),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:"EXPENSES_DELETE_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})(pa),ba=function(e){var a=e.addExpense,t=e.expenseLoading,r=Object(n.useState)({description:"",amount:"",fireRedirect:!1}),c=Object(w.a)(r,2),o=c[0],s=c[1],i=o.fireRedirect,m=o.amount,u=o.description,d=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},t?l.a.createElement(G,null):l.a.createElement(d,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(o),a(o),s(Object(j.a)({},o,{fireRedirect:!0}))}},l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Descripcion del gasto"),l.a.createElement("textarea",{className:"form-control",name:"description",value:u,onChange:function(e){s(Object(j.a)({},o,Object(k.a)({},e.target.name,e.target.value)))}})),l.a.createElement("div",{className:"Form-group mt-2"},l.a.createElement("label",{className:"text-white h6"},"Cantidad"),l.a.createElement(Se.a,{className:"form-control",value:m,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;s(Object(j.a)({},o,{amount:a}))}})),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Agregar Gasto"))),i&&l.a.createElement(O.a,{to:"/expense/"})))};ba.prototype={expenseLoading:g.a.bool.isRequired};var va=Object(h.b)((function(e){return{expenseLoading:e.expense.loading}}),{addExpense:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),t({type:"EXPENSES_FETCH_REQUEST"}),a.prev=3,a.next=6,u.a.post("/api/expense",l,n);case 6:r=a.sent,t({type:"EXPENSES_ADD_SUCCESS",payload:r.data}),t(p(" Gatos de ".concat(e.amount," agregado con exito"),"success")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),t({type:"EXPENSES_ADD_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()}})(ba),ga=function(e){var a=e.loadUsers,t=e.users,r=e.userLoading;return Object(n.useEffect)((function(){a()}),[a]),l.a.createElement("div",{className:"container mt-5 pt-5"},l.a.createElement("div",{className:"my-info  mb-2 p-0 rounded-0"},l.a.createElement("div",null,l.a.createElement("a",{href:"/newuser",className:" text-white btn btn-outline-secondary btn-block "},"Crear nuevo usuario"))),r?l.a.createElement(G,null):l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item disabled"},"Usuarios"),t&&null!==t&&t.length>0&&t.map((function(e){return l.a.createElement("li",{className:"list-group-item",key:e._id},l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"}," Nombre :"),l.a.createElement("span",null,e.name)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"}," Usuario:"),l.a.createElement("span",null,e.nombreUsuarios)))}))))};ga.prototype={userLoading:g.a.bool.isRequired,users:g.a.array.isRequired};var ha=Object(h.b)((function(e){return{userLoading:e.user.loading,users:e.user.users}}),{loadUsers:function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"USERS_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/user");case 4:t=e.sent,a({type:"USERS_FETCH_SUCCESS",payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"USERS_FETCH_FAIL"}),a(p("Error ".concat(e.t0.response.data.msg),"danger"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()}})(ga),Na=function(e){var a=e.register,t=e.userLoading,r=Object(n.useState)({name:"",nombreUsuarios:"",password:"",password2:"",fireRedirect:!1,passwordSame:!0}),c=Object(w.a)(r,2),o=c[0],s=c[1],i=function(e){var a;s(Object(j.a)({},o,(a={},Object(k.a)(a,e.target.name,e.target.value),Object(k.a)(a,"passwordSame",o.password==o.password2),a)))},m=o.passwordSame,u=o.fireRedirect,d=o.name,E=o.nombreUsuarios,p=o.password,f=o.password2,b=l.a.Fragment;return l.a.createElement("div",{className:"container mt-5 pt-5"},t?l.a.createElement(G,null):l.a.createElement(b,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f==p?(a(o),s(Object(j.a)({},o,{fireRedirect:!0}))):s(Object(j.a)({},o,{passwordSame:!1}))}},l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Nombre del usuario *"),l.a.createElement("input",{required:!0,name:"name",type:"text",value:d,onChange:i,className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Usuario"),l.a.createElement("input",{required:!0,name:"nombreUsuarios",type:"text",value:E,onChange:i,className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Contrasena"),l.a.createElement("input",{required:!0,name:"password",type:"password",value:p,onChange:i,className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",{className:"text-white h6"},"Verificar contrasena"),l.a.createElement("input",{required:!0,name:"password2",type:"password",value:f,onChange:i,className:"form-control"})),l.a.createElement("span",{className:" mt-2 text-danger d-".concat(!m&&"none")}," ","Verifique con las contrasena sean igual"),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info",type:"sumbit"},"Crear nuevo usuario"))),u&&l.a.createElement(O.a,{to:"/users/"})))};Na.prototype={userLoading:g.a.bool.isRequired,register:g.a.func.isRequired};var ya=Object(h.b)((function(e){return{userLoading:e.user.lodaing}}),{register:Ke})(Na);var Ca=Object(h.b)((function(e){return{loanLoading:e.loan.loading,PaymentLoading:e.payment.loading,selectedPayment:e.payment.selectedPayment.length}}),{RemoveLastPayment:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},a.prev=1,t({type:"REMOVE_LASTPAYMENT_REQUEST"}),a.next=5,u.a.post("/api/loan/lastpay/"+e,null,n);case 5:a.sent,t({type:"REMOVE_LASTPAYMENT_SUCCESS"}),t(Ee()),t(p(" El ultimo pago fue cancelado con exito","success")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),t({type:"REMOVE_LASTPAYMENT_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var a=e.PaymentLoading,t=e.onHide,r=e.show,c=e.redirect,o=void 0===c?"":c,s=e.loan,i=e.payments,m=e.RemoveLastPayment,u=Object(n.useState)(""),d=Object(w.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)({id:"",fireRedirect:!1}),b=Object(w.a)(f,2),v=b[0],g=b[1],h=i.filter((function(e){return e.quota===s.quota}));return h=h[h.length-1],Object(n.useEffect)((function(){r&&(console.log("we are back "),g(Object(j.a)({},v,{id:h._id})))}),[r]),l.a.createElement(xe.a,{show:r,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(xe.a.Header,null,l.a.createElement(xe.a.Title,{id:"contained-modal-title-vcenter"},"Borrar un Pago")),l.a.createElement(xe.a.Body,null,a?l.a.createElement(Le.a,{animation:"grow"}):l.a.createElement(n.Fragment,null,l.a.createElement("p",null,"Intentas borrar el ultimo pago de un prestamo de"," ",l.a.createElement("b",null,s.client.name+""+s.client.apellido)," confima esta accion escribiendo ",l.a.createElement("b",{className:"text-danger"},h._id," "),"abajo y presiona al boton"),l.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),m(v.id),console.log(v,o),window.location.reload(),t()}},l.a.createElement(_e.a.Group,null,l.a.createElement(_e.a.Row,null,l.a.createElement(Q.a,null,l.a.createElement(_e.a.Control,{type:"text",value:E,onChange:function(e){p(e.target.value.trim())}})),l.a.createElement(Q.a,null,l.a.createElement(Oe.a,{disabled:!(E===h._id),variant:"danger",type:"submit"},l.a.createElement("i",{className:"fa fa-trash"})))),""!==E&&l.a.createElement(_e.a.Text,{className:"text-muted text-danger"},"Nota que este accion es irreversible"))))),l.a.createElement(xe.a.Footer,null,l.a.createElement(Oe.a,{onClick:t},"Cerrar")),v.fireRedirect&&l.a.createElement(O.a,{to:o}))})),Sa=function(e){var a=e.getLoanById,t=e.getPaymentsById,r=e.paymentLoading,c=e.loan,o=e.loanLoading,s=e.payments,i=e.match.params.id;Object(n.useEffect)((function(){return a(i),t(i),function(){console.log("Cleaned previous loan")}}),[t,a,i]);var m=Object(n.useState)(!1),u=Object(w.a)(m,2),d=u[0],E=u[1];return l.a.createElement("div",{className:"container mt-5 pt-5"},o||r?l.a.createElement(G,null):l.a.createElement(n.Fragment,null,null!==c&&l.a.createElement(ke,{loan:c,noPaymentBtn:c.status,noHistoryBtn:!0}),s.length>0?l.a.createElement("div",null,l.a.createElement(Oe.a,{variant:"outline-danger",size:"lg",block:!0,onClick:function(){E(!0)}},"Cancelar ultimo pago"),l.a.createElement("ul",{className:"list-group"},s.map((function(e){return l.a.createElement("li",{className:"list-group-item my-info"},l.a.createElement("div",{className:"d-flex justify-content-between text-".concat("Pagado"===e.status?"success":"danger")},l.a.createElement("span",null,"Numero pago :"),l.a.createElement("span",null,e.quota)),l.a.createElement("div",{className:"d-flex justify-content-between text-".concat("Pagado"===e.status?"success":"danger")},l.a.createElement("span",null,"Estado:"),l.a.createElement("span",null,e.status)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Fecha a pagar:"),l.a.createElement("span",null,e.dateToPay)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Fecha que pago:"),l.a.createElement("span",null,e.dateAmountPaid)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Monto que pago:"),l.a.createElement("span",null,l.a.createElement(Se.a,{value:e.amountPaid,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Fecha que pago el interes:"),l.a.createElement("span",null,e.dateInterestPaid)),l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Monto de interes que pago:"),l.a.createElement("span",null,l.a.createElement(Se.a,{value:e.interestPaid,displayType:"text",thousandSeparator:!0,prefix:"RD$"}))),l.a.createElement("div",null),e.comment&&null!=e.comment&&""!==e.comment&&l.a.createElement("div",null,l.a.createElement("span",{className:"mr-2"},"Comentario"),l.a.createElement("span",null,e.dateInterestPaid)))})))):l.a.createElement("h4",{className:" mt-2  text-center text-white"}," ","**Aun no hay pagos hechos para este prestamo**")),null!==c&&s.length>0&&l.a.createElement(Ca,{show:d,onHide:function(){return E(!1)},loan:c,payments:s,redirect:"/loan/".concat(c._id)}))};Sa.prototype={loan:g.a.object.isRequired,loanLoading:g.a.bool.isRequired,payments:g.a.array.isRequired,paymentLoading:g.a.bool.isRequired};var Oa=Object(h.b)((function(e){return{payments:e.payment.selectedPayment,paymentLoading:e.payment.loading,loanLoading:e.loan.loading,loan:e.loan.loan}}),{getPaymentsById:se,getLoanById:de})(Sa),xa=Object(h.b)(null,{removeLoan:fe})((function(e){var a=e.removeLoan,t=e.match.params.id;return l.a.createElement("div",{className:"container mt-5 pt-5"},l.a.createElement("div",{className:"alert alert-warning  text-dark"},l.a.createElement("h4",{className:"alert-heading text-dark"},"Cancelar Prestamo"),l.a.createElement("p",null,"Confirmar que quieres cancelar el Prestamo ",l.a.createElement("a",{href:"/loan/".concat(t)}," detalles ")),l.a.createElement("hr",null),l.a.createElement("div",{className:"mb-0 d-flex justify-content-around"},l.a.createElement("a",{href:"/loan/".concat(t),className:"btn btn-outline-warning"},"No"," "),l.a.createElement("button",{onClick:function(e){a(t)},className:"btn btn-outline-danger"},"Si"," "))))})),La=function(e){var a=e.loadCities,t=e.cityLoading,r=e.cities,c=e.registerClient;Object(n.useEffect)((function(){a()}),[]);var o=Object(n.useState)({name:"",apellido:"",cedula:"",telefono:"",telefono2:"",telefono3:"",dirreccion:"",ciudad:"",DirReferencia:"",fireRedirect:!1}),s=Object(w.a)(o,2),i=s[0],m=s[1],u=function(e){m(Object(j.a)({},i,Object(k.a)({},e.target.name,e.target.value)))},d=i.fireRedirect,E=i.name,p=i.apellido,f=i.cedula,b=i.telefono,v=i.telefono2,g=i.telefono3,h=i.dirreccion,N=i.ciudad,y=i.DirReferencia;return l.a.createElement("div",{className:"container  pt-2"},t?l.a.createElement(G,null):l.a.createElement("div",{className:"text-white"},l.a.createElement("div",{className:"card-header"},"Crear nuevo cliente"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{className:"mt-2",onSubmit:function(e){e.preventDefault(),console.log(i),c(i),m(Object(j.a)({},i,{fireRedirect:!0}))}},l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Nombre *"),l.a.createElement("input",{required:"true",onChange:u,value:E,name:"name",type:"text",className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Apellido *"),l.a.createElement("input",{required:"true",onChange:u,value:p,name:"apellido",type:"text",className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Cedula *"),l.a.createElement("input",{required:"true",onChange:u,value:f,name:"cedula",type:"text",className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Telefono *"),l.a.createElement(Se.a,{className:"form-control",required:"true",value:b,format:"(###) ###-####",onValueChange:function(e){var a=e.value;m(Object(j.a)({},i,{telefono:a}))}})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Telefono 2"),l.a.createElement(Se.a,{className:"form-control",value:v,format:"(###) ###-####",onValueChange:function(e){var a=e.value;m(Object(j.a)({},i,{telefono2:a}))}})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Telefono 3"),l.a.createElement(Se.a,{className:"form-control",value:g,format:"(###) ###-####",onValueChange:function(e){var a=e.value;m(Object(j.a)({},i,{telefono3:a}))}})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Dirreccion *"),l.a.createElement("textarea",{required:"true",onChange:u,value:h,name:"dirreccion",type:"text",className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Referencia "),l.a.createElement("textarea",{onChange:u,value:y,name:"DirReferencia",type:"text",className:"form-control"})),l.a.createElement("div",{className:"Form-group"},l.a.createElement("label",null,"Ciudad"),l.a.createElement("select",{required:"true",className:"form-control",name:"ciudad",value:N,onChange:u},l.a.createElement("option",{disable:!0}),r.map((function(e){return l.a.createElement("option",{key:e._id,value:e.name},e.name)})))),l.a.createElement("div",{className:"mt-3"},l.a.createElement("button",{className:"btn btn-block btn-outline-info"}," ","Crear Nuevo Cliente")),l.a.createElement("div",{className:"mt-2"}," Los * son necessario")),d&&l.a.createElement(O.a,{to:"/clients"}))))};La.prototype={registerClient:g.a.func.isRequired,cities:g.a.array.isRequired,cityLoading:g.a.bool.isRequired};var _a=Object(h.b)((function(e){return{cities:e.city.cities,cityLoading:e.city.loading}}),{registerClient:function(e){return function(){var a=Object(i.a)(s.a.mark((function a(t){var n,l,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},l=JSON.stringify(Object(j.a)({},e)),t({type:"PROFILE_SAVE_REQUEST"}),a.prev=3,a.next=6,u.a.post("/api/client",l,n);case 6:r=a.sent,console.log(r),t({type:"PROFILE_SAVE_SUCCESS",payload:r.data}),t(p("".concat(e.name," creado con exito"),"success")),t(ge()),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(3),t({type:"PROFILE_SAVE_FAIL"}),t(p("Error ".concat(a.t0.response.data.msg),"danger"));case 17:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(e){return a.apply(this,arguments)}}()},loadCities:Ne})(La),ja=function(e){var a=e.loadDoc,t=e.docs,r=e.loading;return Object(n.useEffect)((function(){a()}),[]),l.a.createElement("div",null,r?l.a.createElement(G,null):l.a.createElement(n.Fragment,null,t&&null!=t&&t.length>0?l.a.createElement("ul",{className:"list-group mt-4"},l.a.createElement("h1",{className:"text-white"}," Como usar el sistema "),t.map((function(e){return l.a.createElement("li",{key:e._id,className:"list-group-item"},l.a.createElement("h3",null,e.title),l.a.createElement("p",null,e.text))}))):l.a.createElement("h1",{className:"text-white"},"No instrucciones")))};ja.prototype={loading:g.a.bool.isRequired,docs:g.a.array.isRequired};var wa=Object(h.b)((function(e){return{loading:e.doc.loading,docs:e.doc.docs}}),{loadDoc:function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:" DOC_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/doc");case 4:t=e.sent,a({type:"DOC_FETCH_SUCCESS",payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"DOC_FETCH_FAIL"}),a(p("Error ".concat(e.t0.response.data.msg),"danger"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()}})(ja),Ta=Object(h.b)((function(e){return{loans:e.routina.loans,loanLoanding:e.routina.loading}}),{loadRoutina:function(){return function(){var e=Object(i.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ROUTINA_FETCH_REQUEST"}),e.prev=1,e.next=4,u.a.get("/api/loan/get/routine");case 4:t=e.sent,a({type:"ROUTINA_FETCH_SUCCESS",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"ROUTINA_FETCH_FAIL"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()}})((function(e){var a=e.loadRoutina,t=e.loans,r=(t.count,t.cities,t.response),c=e.loanLoanding;return Object(n.useEffect)((function(){a()}),[]),l.a.createElement("div",{className:"container mt-5"},c?l.a.createElement(G,null):l.a.createElement("div",null,r&&null!==r&&r.length>0?l.a.createElement("div",null,r.map((function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"mb-2 card-header h6 text-white"},e.city[0].client.ciudad.trim().charAt(0).toUpperCase()+e.city[0].client.ciudad.trim().slice(1)),e.city.map((function(e){return l.a.createElement("div",null,l.a.createElement("li",{key:e._id,className:" my-item list-group-item mb-2 p-0"},l.a.createElement(ke,{loan:e,noPaymentBtn:e.status})))})))}))):l.a.createElement("h1",{className:"text-white"},"No hay deudas a cobrar")))}));function Ra(){return l.a.createElement("div",{className:"d-flex justify-content-center p-3"},l.a.createElement("div",{className:"spinner-border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Cargando...")))}var Aa=t(28),Pa=Object(h.b)((function(e){return{plans:e.plan.plans,planLoading:e.plan.loading}}),{loadPlan:ea,setAlert:p})((function(e){var a=e.plans,t=e.planLoading,r=e.addLoan,c=e.setAlert;Object(n.useEffect)((function(){ea()}),[]);var o=Object(n.useState)({amount:"",plan:"",date:""}),s=Object(w.a)(o,2),i=s[0],m=s[1],u=i.amount,d=i.plan,E=i.date;return l.a.createElement("div",{className:"border py-0"},t?l.a.createElement(Ra,null):l.a.createElement("div",{className:"pl-2 pt-2 px-md-5 text-white container-md "},l.a.createElement("h6",{className:"mb-4"},"Agregar Prestamo"),l.a.createElement("div",{className:"row no-gutters px-md-5 "},l.a.createElement("div",{className:"col-sm-4 "},l.a.createElement("div",{className:"form-group "},l.a.createElement("div",null,l.a.createElement("label",{className:"h6 text-white",htmlFor:""},"Cantidad")),l.a.createElement(Se.a,{className:"form-control-sm p-0",value:u,thousandSeparator:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var a=e.value;m(Object(j.a)({},i,{amount:a}))}}))),l.a.createElement("div",{className:"col-sm-3"},l.a.createElement("div",{className:"form-group "},l.a.createElement("div",null," ",l.a.createElement("label",{className:"h6 text-white",htmlFor:""},"Plan")),l.a.createElement("select",{value:i.name,onChange:function(e){var t=a.filter((function(a){return a._id===e.target.value})),n=Object(w.a)(t,1)[0];m(Object(j.a)({},i,{plan:n}))},className:"form-control-sm",name:"",id:""},l.a.createElement("option",null),a.map((function(e){return l.a.createElement("option",{value:e._id},e.name)}))))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("div",{className:"form-group "},l.a.createElement("div",null,l.a.createElement("label",{className:"h6 text-white",htmlFor:""},"Fecha")),l.a.createElement("input",{value:E,onChange:function(e){var a=Aa(e.target.value).format("l");m(Object(j.a)({},i,{date:a}))},type:"date",className:"form-control-sm px-0"}))),l.a.createElement("div",{className:"col-sm-1"},l.a.createElement("div",{className:"form-group "},l.a.createElement("div",null,l.a.createElement("label",{className:"h6 text-transparent "},"Agregar")),l.a.createElement("button",{onClick:function(e){e.preventDefault(),console.log(i),u>0&&""!=i.plan?(""==E&&(i.date=Aa().format("l")),r(i)):(""===u&&c("Favor agregar el monto del prestamo ","danger"),""===d&&c("Favor seleccionar un plan por este prestamo ","danger")),m({amount:"",plan:"",date:""})},className:"btn btn-sm btn-outline-primary btn-sm form-control-sm"},l.a.createElement("i",{className:"text-success fa fa-plus"})))))))}));function Fa(e){var a=e.loans,t=e.deleteMe;return l.a.createElement("div",null,l.a.createElement("table",{className:"table text-white table-responsive-md"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Cantidad"),l.a.createElement("th",null,"Plan"),l.a.createElement("th",null,"Fecha"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,a.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(Se.a,{value:e.amount,displayType:"text",thousandSeparator:!0,prefix:"RD$"})),l.a.createElement("td",null,e.plan.name),l.a.createElement("td",null,e.date),l.a.createElement("td",null,l.a.createElement("button",{id:e.id,onClick:function(e){t(e.target.id)},className:"btn btn-danger btn-block"},l.a.createElement("i",{className:"fa fa-times"}))))})))))}var Da=Object(h.b)((function(e){return{profiles:e.profile.profiles,loanLoanding:e.profile.loading}}),{loadProfiles:ge})((function(e){var a=e.loadProfiles,t=e.profiles,r=Object(n.useState)([]),c=Object(w.a)(r,2),o=c[0],s=c[1];Object(n.useEffect)((function(){a()}),[]);var i=Object(n.useState)(!1),m=Object(w.a)(i,2),u=m[0],d=m[1];return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Nombre del cliente"),l.a.createElement("input",{onChange:function(e){var a=t.filter((function(a){return a.name.trim().toLowerCase().includes(e.target.value.trim().toLowerCase())?a:void 0}));s(a)},onFocus:function(){d(!0)},onBlur:function(){},className:"form-control",type:"text"}),l.a.createElement("div",{className:"d-".concat(!u&&"none")},null!==t&&t.length>0&&l.a.createElement("div",{className:"mt-2 "},o.map((function(e){return l.a.createElement("div",{className:" pt-0 pb-0 list-group-item",key:e._id},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-dark h6 pt-2 pb-0 mb-0"},e.name,l.a.createElement("input",{className:"d-one m-0",type:"radio",value:"profile._id"}))))})))))})),ka=Object(h.b)((function(e){return{client:e.profile.profile,profileLoading:e.profile.isLoading,plans:e.plan.plans,planLoading:e.plan.loading,loanLoading:e.loan.loading}}),{addLoan:pe,loadSelectedProfile:ve,setAlert:p,loadPlan:ea})((function(e){e.plans,e.planLoading,e.client,e.loanLoading,e.profileLoading,e.addLoan;var a=e.loadSelectedProfile,t=e.loadPlan,r=(e.setAlert,e.match.params.id);Object(n.useEffect)((function(){console.log("in here hdfbvjfbjffbj;"),a(r),t()}),[]);var c=Object(n.useState)([]),o=Object(w.a)(c,2),s=o[0],i=o[1];return l.a.createElement("div",{className:"container-md px-md-5"},l.a.createElement("h1",{className:"text-white text-center "}," Agregar Pretamo "),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement(Da,null))),l.a.createElement(Pa,{addLoan:function(e){e.id=E.a.v4(),console.log(e.id+"given"),i([].concat(Object(z.a)(s),[e]),console.log(s))}}),l.a.createElement(Fa,{loans:s,deleteMe:function(e){var a=s.filter((function(a){return a.id!=e?a:void 0}));i(a)}}))})),Ia=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(O.d,null,l.a.createElement(O.b,{exact:!0,path:"/",component:Ce}),l.a.createElement(_,{exact:!0,path:"/home",component:ye}),l.a.createElement(_,{exact:!0,path:"/many/:id",component:ka}),l.a.createElement(_,{exact:!0,path:"/clients",component:Te}),l.a.createElement(_,{exact:!0,path:"/loan",component:Ie}),l.a.createElement(_,{path:"/client/:id",component:Ye}),l.a.createElement(O.b,{path:"/instruction",component:wa}),l.a.createElement(O.b,{path:"/sidenav",component:y}),l.a.createElement(O.b,{path:"/load",component:G}),l.a.createElement(_,{path:"/cities",component:ua}),l.a.createElement(_,{path:"/newClient",component:_a}),l.a.createElement(_,{path:"/newcity",component:Ea}),l.a.createElement(_,{path:"/expense",component:fa}),l.a.createElement(_,{path:"/newexpense",component:va}),l.a.createElement(_,{path:"/newloan/:id",component:aa}),l.a.createElement(_,{path:"/city",component:ua}),l.a.createElement(_,{path:"/loan/:id",component:Oa}),l.a.createElement(_,{path:"/cancel/:id",component:xa}),l.a.createElement(_,{path:"/payment/:id",component:ra}),l.a.createElement(_,{path:"/renew/:id",component:na}),l.a.createElement(_,{path:"/users",component:ha}),l.a.createElement(_,{path:"/newuser",component:ya}),l.a.createElement(_,{path:"/plan",component:ia}),l.a.createElement(_,{path:"/newplan",component:oa}),l.a.createElement(_,{path:"/register",component:Ze}),l.a.createElement(_,{path:"/lateLoan",component:Ta}),l.a.createElement(O.b,{path:"/customer",component:$e}),l.a.createElement(O.b,{path:"/latePay/:id",component:Xe}),l.a.createElement(O.b,{exact:!0,path:"/login",component:We}),l.a.createElement(O.b,{exact:!0,path:"/cuadre",component:Y})))},Ua=(t(271),t(34)),qa=t(125),Ha=t(126),Ma=[],Qa={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},Va={isLoading:!1,profiles:[],profile:null,filteredProfiles:[]},Ya={filteredLoans:[],loans:[],loading:!1,loan:null,selectedLoans:[]},Ga={cities:[],loading:!1},Ba={plans:[],loading:!1},$a={selectedPayment:[],payments:[],loading:!1},za={users:[],loading:!1},Xa={loans:[],loading:!1},Ja={statistics:[],loading:!1},Wa={expenses:[],loading:!1},Ka={docs:[],loading:!1},Za=Object(Ua.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,a=arguments.length>1?arguments[1]:void 0,t=a.payload;switch(a.type){case"SET_ALERT":return[].concat(Object(z.a)(e),[t]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"USER_LOAD_REQUEST":case"LOG_IN_REQUEST":return Object(j.a)({},e,{loading:!0});case"USER_LOAD_SUCCESS":return Object(j.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"LOG_IN_SUCCESS":return localStorage.setItem("token",n.token),Object(j.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"USER_LOAD_FAIL":case"LOG_OUT":case"LOG_IN_FAIL":return localStorage.removeItem("token"),Object(j.a)({},e,{loading:!1,isAuthenticated:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"DELETE_PROFILE_REQUEST":case"LOAD_SELECTED_PROFILE_REQUEST":case"PROFILE_UPADTE_REQUEST":case"PROFILE_FETCH_REQUEST":return Object(j.a)({},e,{isLoading:!0});case"DELETED_PROFILE_SUCCESS":return Object(j.a)({},e,{isLoading:!1,profiles:e.profiles.filter((function(e){return e._id!=n})),filteredProfiles:e.profiles.filter((function(e){return e._id!=n}))});case"PROFILE_FETCH_SUCCESS":return Object(j.a)({},e,{isLoading:!1,profiles:n,filteredProfiles:n});case"PROFILE_UPADTE_SUCCESS":return Object(j.a)({},e,{isLoading:!1,profiles:[].concat(Object(z.a)(e.profiles),[n])});case"PROFILE_SAVE_SUCCESS":return Object(j.a)({},e,{isLoading:!1},e.filteredProfiles,{payload:n},e.profiles,{payload:n});case"LOAD_SELECTED_PROFILE_SUCCESS":return Object(j.a)({},e,{profile:n,isLoading:!1});case"LOAD_SELECTED_PROFILE_FAIL":return Object(j.a)({},e,{profile:null,isLoading:!1});case"DELETED_PROFILE_FAIL":case"PROFILE_SAVE_FAIL":case"PROFILE_UPADTE_FAIL":case"PROFILE_FETCH_FAIL":return{isLoading:!1,profiles:[]};case"FILTER":return Object(j.a)({},e,{filteredProfiles:n});default:return Object(j.a)({},e)}},loan:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"GET_LOAN_SUCCESS":return Object(j.a)({},e,{loan:n,loading:!1});case"GET_LOAN_FAIL":return Object(j.a)({},e,{loan:[],loading:!1});case"GET_SELECTED_LOANS_SUCCESS":return Object(j.a)({},e,{selectedLoans:n,loading:!1});case"GET_SELECTED_LOANS_FAIL":return Object(j.a)({},e,{selectedLoans:[],loading:!1});case"LOAN_FETCH_SUCCESS":return Object(j.a)({},e,{loans:n,filteredLoans:n,loading:!1});case"REMOVE_LASTPAYMENT_REQUEST":case"GET_SELECTED_LOANS_REQUEST":case"GET_LOAN_REQUEST":case"LOAN_RENEW_REQUEST":case"LOAN_CANCEL_REQUEST":case"LOAN_PAYMENT_ADD_REQUEST":case"LOAN_FETCH_REQUEST":case"LOAN_ADD_REQUEST":return Object(j.a)({},e,{loading:!0});case"LOAN_RENEW_SUCCESS":case"LOAN_RENEW_FAIL":case"LOAN_CANCEL_FAIL":case"LOAN_CANCEL_SUCCESS":case"LOAN_PAYMENT_ADD_FAIL":case"LOAN_PAYMENT_ADD_SUCCESS":case"LOAN_ADD_SUCCESS":return Object(j.a)({},e,{loading:!1});case"LOAN_ADD_FAIL":case"LOAN_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,loans:[],filteredLoans:[]});case"FILTER_LOAN":return Object(j.a)({},e,{filteredLoans:n});case"REMOVE_LASTPAYMENT_SUCCESS":case"REMOVE_LASTPAYMENT_FAIL":return Object(j.a)({},e,{loading:!1});default:return Object(j.a)({},e)}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"CITY_DELETE_REQUEST":case"CITY_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"CITY_ADD_SUCCESS":return Object(j.a)({},e,{loading:!1,cities:[].concat(Object(z.a)(e.cities),[n])});case"CITY_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,cities:n.cities});case"CITY_ADD_FAIL":case"CITY_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,cities:[]});case"CITY_DELETE_SUCCESS":return Object(j.a)({},e,{loading:!1,cities:e.cities.filter((function(e){return e.id!==n.id}))});case"CITY_DELETE_FAIL":return Object(j.a)({},e,{loading:!1});default:return e}},plan:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"PLAN_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"PLAN_ADD_SUCCESS":return Object(j.a)({},e,{loading:!1,plans:[].concat(Object(z.a)(e.plans),[n])});case"PLAN_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,plans:n});case"PLAN_ADD_FAIL":case"PLAN_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,plans:[]});default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SELECTED_PAYMENTS_REQUEST":case"PAYMENT_ADD_REQUEST":case"PAYMENT_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"PAYMENT_ADD_SUCCESS":return Object(j.a)({},e,{loading:!1,payments:[].concat(Object(z.a)(e.payments),[n])});case"PAYMENT_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,payments:n});case"SELECTED_PAYMENTS_SUCCESS":return Object(j.a)({},e,{selectedPayment:n,loading:!1});case"SELECTED_PAYMENTS_FAIL":case"PAYMENT_ADD_FAIL":case"PAYMENT_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,payments:[],selectedPayment:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"REGISTER_REQUEST":case"USERS_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"REGISTER_SUCCESS":return Object(j.a)({},e,{loading:!1,users:[].concat(Object(z.a)(e.users),[n])});case"USERS_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,users:n});case"REGISTER_FAIL":case"USERS_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,users:[]});default:return e}},routina:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"ROUTINA_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"ROUTINA_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,loans:n});case"ROUTINA_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,loans:[]});default:return e}},statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"STATISTICS_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"STATISTICS_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,statistics:n});case"STATISTICS_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,statistic:[]});default:return e}},expense:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"EXPENSES_DELETE_REQUEST":case"EXPENSES_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"EXPENSES_ADD_SUCCESS":return Object(j.a)({},e,{loading:!1,expenses:[].concat(Object(z.a)(e.expenses),[n])});case"EXPENSES_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,expenses:n});case"EXPENSES_ADD_FAIL":case"EXPENSES_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,plans:[]});case"EXPENSES_DELETE_SUCCESS":return Object(j.a)({},e,{loading:!1,expenses:e.expenses.filter((function(e){return e._id!=n.id}))});case"EXPENSES_DELETE_FAIL":return Object(j.a)({},e,{loading:!1});default:return e}},doc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case" DOC_FETCH_REQUEST":return Object(j.a)({},e,{loading:!0});case"DOC_FETCH_SUCCESS":return Object(j.a)({},e,{loading:!1,docs:n});case"DOC_FETCH_FAIL":return Object(j.a)({},e,{loading:!1,docs:[]});default:return e}}}),et=[Ha.a],at=Object(Ua.createStore)(Za,{},Object(qa.composeWithDevTools)(Ua.applyMiddleware.apply(void 0,et)));var tt=function(){return Object(n.useEffect)((function(){var e=at.getState().auth;e.token?at.dispatch(b()):!e.token&&e.loading&&at.dispatch({type:"LOG_IN_FAIL"}),console.log("Logging the store"),console.log()}),[]),l.a.createElement(h.a,{store:at},l.a.createElement(S,null,l.a.createElement(Ia,null)))},nt=t(26);c.a.render(l.a.createElement(nt.a,null,l.a.createElement(tt,null)),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.51f5fad4.chunk.js.map